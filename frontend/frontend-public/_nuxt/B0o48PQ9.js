import{_ as bt,m as xt,r as b,y as _t,x as ht,i as wt,c as p,a as e,b as Re,f as ne,h as E,v as R,z as Ze,e as kt,t as u,g as w,F as P,q as V,w as We,T as Je,B as xe,o as f,d as se,n as Mt,C as Qe,s as Pt}from"./DPSIKoxe.js";import{d as Z}from"./B5yDJBm8.js";import{b as Ct}from"./C5FTVxxA.js";import{u as Lt}from"./DOK8vhV6.js";import{u as At}from"./BaxiziUg.js";import{s as St}from"./x_rD_Ya3.js";import"./Cpj98o6Y.js";const $t={class:"px-4 py-8 mx-auto max-w-7xl sm:px-6 lg:px-8"},It={class:"p-6 mb-8 bg-white border border-gray-300 rounded-lg shadow-md"},Nt={class:"relative"},Bt={class:"relative"},Tt={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},zt={class:"lg:col-span-2"},Et={class:"bg-white border border-gray-300 rounded-lg shadow-md"},Vt={class:"p-6 border-b border-gray-300"},jt={class:"text-lg font-semibold text-gray-900"},Ft={key:0,class:"p-6 text-center text-gray-500"},Ot={key:1,class:"divide-y divide-gray-200"},Dt={key:0,class:"p-6 text-center text-gray-500"},Ut=["onClick"],Kt={class:"mb-6 font-semibold text-center text-gray-900"},qt={class:"flex items-start space-x-4"},Gt=["src","alt"],Ht={class:"flex-1"},Rt={class:"flex items-start justify-between"},Zt={class:"flex items-center"},Wt={class:"font-semibold text-gray-900"},Jt={key:0,class:"relative group ml-1.5 flex items-center"},Qt={class:"flex items-center mt-1"},Xt={class:"flex text-yellow-400"},Yt={class:"ml-2 text-sm text-gray-600"},el={class:"text-right"},tl={class:"text-lg font-bold text-blue-600"},ll={class:"mt-3"},al={class:"flex flex-wrap items-center text-sm text-gray-600"},nl={class:"font-medium"},sl={class:"ml-1"},ol={class:"ml-1"},il={class:"ml-1"},rl={class:"flex items-center mt-2 text-sm text-gray-600"},dl={key:0,class:"pt-4 mt-4 duration-300 border-t border-gray-300 animate-in slide-in-from-top"},ul={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},cl={class:"space-y-1 text-sm text-gray-600"},gl={class:"font-medium text-gray-900"},ml={key:0},pl={class:"mt-2 text-gray-700"},fl={class:"mt-1"},vl={class:"font-medium text-gray-900"},yl={key:0},bl={class:"space-y-1 text-sm text-gray-600"},xl={class:"mt-4 space-y-4"},_l={key:0},hl={class:"p-3 text-sm text-gray-700 border border-gray-300 rounded-md bg-gray-50"},wl={key:1},kl={class:"grid grid-cols-3 gap-2 mt-2"},Ml=["src"],Pl={class:"flex justify-end mt-4"},Cl=["onClick","disabled"],Ll={class:"lg:col-span-1"},Al={class:"sticky overflow-hidden bg-white border border-gray-300 rounded-lg shadow-md top-8"},Sl={class:"modal-content"},$l={key:0,class:"flex items-center justify-between p-6 border-b border-gray-300"},Il={class:"flex items-center justify-between p-4 border-b border-gray-300"},Nl={class:"text-lg font-semibold text-gray-900"},Bl={class:"p-0"},Tl={class:"flex items-center justify-between p-4 border-t border-gray-200"},zl={class:"text-sm text-gray-700 truncate"},El={class:"truncate"},Vl=["disabled"],jl={class:"p-6"},Fl={class:"mb-6"},Ol={class:"flex items-center p-3 space-x-3 rounded-lg bg-gray-50"},Dl=["src","alt"],Ul={class:"flex items-center"},Kl={class:"font-medium text-gray-900"},ql={key:0,class:"relative group ml-1.5 flex items-center"},Gl={class:"flex items-center"},Hl={class:"flex text-sm text-yellow-400"},Rl={class:"ml-2 text-sm text-gray-600"},Zl={class:"grid grid-cols-1 gap-6 mb-6 md:grid-cols-2"},Wl={class:"p-3 text-gray-900 rounded-lg bg-gray-50"},Jl={class:"p-3 text-gray-900 rounded-lg bg-gray-50"},Ql={class:"mb-6"},Xl={class:"flex items-center p-3 space-x-4 rounded-lg bg-gray-50"},Yl={class:"flex-1"},ea={class:"font-medium text-gray-900"},ta={class:"flex-1 text-right"},la={class:"font-medium text-gray-900"},aa={class:"mb-6 space-y-4"},na=["value"],sa={class:"relative"},oa={class:"relative"},ia={class:"p-4 mb-6 rounded-lg bg-blue-50"},ra={class:"flex items-center justify-between mb-2"},da={class:"font-medium text-gray-900"},ua={class:"flex items-center justify-between mb-2"},ca={class:"font-medium text-gray-900"},ga={class:"pt-2 mt-2 border-t border-gray-300"},ma={class:"flex items-center justify-between"},pa={class:"text-lg font-bold text-blue-600"},fa={class:"modal-content"},va={class:"flex items-center justify-between p-4 border-b border-gray-300"},ya={class:"text-lg font-semibold text-gray-900"},ba={class:"p-4 space-y-3"},xa={class:"text-sm text-gray-700"},_a={class:"truncate"},ha={key:0,class:"text-gray-500"},wa={class:"flex gap-3 pt-2"},ka=["disabled"],_e="__gmapsReady__",Ma=500,Pa={__name:"index",setup(Ca){var Ee;Z.locale("th"),Z.extend(Ct);const{$api:he}=xt(),{toast:oe}=Pt(),{token:Xe}=Lt(),Ye=_t(),ie=b(null),re=b(null);let C=null,L=null;const A=b({lat:null,lng:null,placeId:null,address:null,name:null}),S=b({lat:null,lng:null,placeId:null,address:null,name:null}),z=b(null),we=b(null);let W=null,U=null;const M=b({name:"",lat:null,lng:null,placeId:null,address:null}),de=b(null),ue=b(null);let ce=null,ge=null;const me=b(!1),j=b(null),ke=b(null);let J=null,K=null;const _=b({name:"",lat:null,lng:null}),et=[];(Ee=window.google)!=null&&Ee.maps||et.push({key:"gmaps",src:`https://maps.googleapis.com/maps/api/js?key=${Ye.public.googleMapsApiKey}&libraries=places,geometry&callback=${_e}`,async:!0,defer:!0}),At({});const c=b({origin:"",destination:"",date:"",seats:""}),$=b([]),I=b(null),pe=b(!1),fe=b(null);let k=null,Q=null,X=null,Y=null,F=null,O=null;const ve=b(!1);let ee=[];const ye=b(!1),x=b(null),D=b(1),N=b(""),B=b(""),tt=ht(()=>x.value?D.value*x.value.price:0);function q(a){return(a||"").replace(/,?\s*(Thailand|ไทย|ประเทศ)\s*$/i,"").replace(/\s{2,}/g," ").trim()}async function Me(a){const t=a==="origin"?"_originMeta":"_destinationMeta",l=c.value[t];if(l!=null&&l.lat&&(l!=null&&l.lng))return{lat:l.lat,lng:l.lng};const n=c.value[a];if(!n)return{lat:null,lng:null};const s=await be(n);return s!=null&&s.lat&&(s!=null&&s.lng)?(c.value[t]={...l||{},lat:s.lat,lng:s.lng,placeId:s.placeId||null,fullAddress:s.address||null},{lat:s.lat,lng:s.lng}):{lat:null,lng:null}}async function te(){var a,t;pe.value=!0,I.value=null;try{const l={page:1,limit:20};if(c.value.date){const o=Z(c.value.date);l.dateFrom=o.startOf("day").toISOString(),l.dateTo=o.endOf("day").toISOString()}c.value.seats&&(l.seatsRequired=Number(c.value.seats));let n=!1;if(c.value.origin||(a=c.value._originMeta)!=null&&a.lat){const{lat:o,lng:r}=await Me("origin");o!=null&&r!=null&&(l.startNearLat=o,l.startNearLng=r,n=!0)}if(c.value.destination||(t=c.value._destinationMeta)!=null&&t.lat){const{lat:o,lng:r}=await Me("destination");o!=null&&r!=null&&(l.endNearLat=o,l.endNearLng=r,n=!0)}n&&(l.radiusMeters=Ma);const s=await he("/routes",{query:l}),i=((s==null?void 0:s.data)||s||[]).filter(o=>o.status==="AVAILABLE");$.value=i.map(o=>{var T,H,Ve,je,Fe,Oe,De,Ue,Ke,qe;const r=o.waypoints||{},g=Array.isArray(r.used)&&r.used.length?r.used:Array.isArray(r.requested)?r.requested:[],m=Array.isArray(r.optimizedOrder)&&r.optimizedOrder.length===g.length?r.optimizedOrder.map(y=>g[y]):g,v=m.map(y=>{const vt=(y==null?void 0:y.name)||"",Ge=q((y==null?void 0:y.address)||""),yt=(y==null?void 0:y.lat)!=null&&(y==null?void 0:y.lng)!=null?`(${y.lat.toFixed(6)}, ${y.lng.toFixed(6)})`:"",He=vt||yt;return Ge?`${He} — ${Ge}`:He}).filter(Boolean),h=m.map(y=>y&&typeof y.lat=="number"&&typeof y.lng=="number"?{lat:y.lat,lng:y.lng,name:y.name||"",address:y.address||""}:null).filter(Boolean);return{id:o.id,availableSeats:o.availableSeats,price:o.pricePerSeat,departureTime:Z(o.departureTime).format("HH:mm น."),date:Z(o.departureTime).format("D MMMM BBBB"),start:o.startLocation,end:o.endLocation,originName:((T=o.startLocation)==null?void 0:T.name)||`(${o.startLocation.lat.toFixed(2)}, ${o.startLocation.lng.toFixed(2)})`,destinationName:((H=o.endLocation)==null?void 0:H.name)||`(${o.endLocation.lat.toFixed(2)}, ${o.endLocation.lng.toFixed(2)})`,originAddress:(Ve=o.startLocation)!=null&&Ve.address?q(o.startLocation.address):null,destinationAddress:(je=o.endLocation)!=null&&je.address?q(o.endLocation.address):null,driver:{name:`${((Fe=o.driver)==null?void 0:Fe.firstName)||""} ${((Oe=o.driver)==null?void 0:Oe.lastName)||""}`.trim()||"ไม่ระบุชื่อ",image:((De=o.driver)==null?void 0:De.profilePicture)||`https://ui-avatars.com/api/?name=${encodeURIComponent(((Ue=o.driver)==null?void 0:Ue.firstName)||"U")}&background=random&size=64`,rating:4.5,reviews:Math.floor(Math.random()*50)+5,isVerified:!!((Ke=o.driver)!=null&&Ke.isVerified)},carDetails:o.vehicle?[`${o.vehicle.vehicleModel} (${o.vehicle.vehicleType})`,...o.vehicle.amenities||[]]:["ไม่มีข้อมูลรถ"],conditions:o.conditions,photos:((qe=o.vehicle)==null?void 0:qe.photos)||[],durationText:ft(o.duration)||o.duration||"-",distanceText:pt(o.distance)||o.distance||"-",polyline:o.routePolyline||null,stops:v,stopsCoords:h}}),await Ce();const d=$.value.map(async(o,r)=>{var T,H;const[g,m]=await Promise.all([Pe(o.start.lat,o.start.lng),Pe(o.end.lat,o.end.lng)]),v=await G(g),h=await G(m);!((T=o.start)!=null&&T.name)&&v.name&&($.value[r].originName=v.name),!((H=o.end)!=null&&H.name)&&h.name&&($.value[r].destinationName=h.name)});await Promise.allSettled(d)}catch(l){console.error("Failed to fetch routes:",l),$.value=[]}finally{pe.value=!1}}function Pe(a,t){return new Promise(l=>{if(!F)return l(null);F.geocode({location:{lat:a,lng:t}},(n,s)=>{if(s!=="OK"||!(n!=null&&n.length))return l(null);l(n[0])})})}async function G(a){if(!a)return{name:null,area:null};const t=a.address_components||[],l=m=>{var v;return(v=t.find(h=>h.types.includes(m)))==null?void 0:v.long_name},n=m=>{var v;return(v=t.find(h=>h.types.includes(m)))==null?void 0:v.short_name},s=a.types||[],i=s.includes("point_of_interest")||s.includes("establishment")||s.includes("premise");let d=null;if(i&&a.place_id){const m=await nt(a.place_id);m&&(d=m)}if(!d){const m=l("street_number"),v=l("route");d=m&&v?`${m} ${v}`:v||a.formatted_address||null}const o=l("sublocality")||l("neighborhood")||l("locality")||l("administrative_area_level_2"),r=l("administrative_area_level_1")||n("administrative_area_level_1");let g=null;return o&&r?g=`${o}, ${r}`:r&&(g=r),d&&(d=d.replace(/,?\s*(Thailand|ไทย|ประเทศ)\s*$/i,"")),{name:d,area:g}}const lt=a=>{I.value&&I.value.id===a.id?(I.value=null,Le()):(I.value=a,at(a))};function Ce(){return new Promise(a=>{if(ve.value)return a(!0);const t=St(()=>{ve.value&&(clearInterval(t),a(!0))},50)})}function Le(){Q&&(Q.setMap(null),Q=null),X&&(X.setMap(null),X=null),Y&&(Y.setMap(null),Y=null),ee.length&&(ee.forEach(a=>a.setMap(null)),ee=[])}async function at(a){var t,l,n;if(a&&(await Ce(),!(!k||!(k instanceof google.maps.Map))))if(Le(),X=new google.maps.Marker({position:{lat:a.start.lat,lng:a.start.lng},map:k,label:"A"}),Y=new google.maps.Marker({position:{lat:a.end.lat,lng:a.end.lng},map:k,label:"B"}),Array.isArray(a.stopsCoords)&&a.stopsCoords.length&&(ee=a.stopsCoords.map((s,i)=>new google.maps.Marker({position:{lat:s.lat,lng:s.lng},map:k,icon:"http://maps.google.com/mapfiles/ms/icons/green-dot.png",title:s.name||s.address||`จุดแวะ ${i+1}`}))),a.polyline&&((t=google.maps.geometry)!=null&&t.encoding)){const s=google.maps.geometry.encoding.decodePath(a.polyline);Q=new google.maps.Polyline({path:s,map:k,strokeColor:"#2563eb",strokeOpacity:.9,strokeWeight:5});const i=new google.maps.LatLngBounds;s.forEach(d=>i.extend(d)),(l=a.stopsCoords)!=null&&l.length&&a.stopsCoords.forEach(d=>i.extend(new google.maps.LatLng(d.lat,d.lng))),k.fitBounds(i)}else{const s=new google.maps.LatLngBounds;s.extend(new google.maps.LatLng(a.start.lat,a.start.lng)),s.extend(new google.maps.LatLng(a.end.lat,a.end.lng)),(n=a.stopsCoords)!=null&&n.length&&a.stopsCoords.forEach(i=>s.extend(new google.maps.LatLng(i.lat,i.lng))),k.fitBounds(s)}}function nt(a){return new Promise(t=>{if(!O||!a)return t(null);O.getDetails({placeId:a,fields:["name"]},(l,n)=>{n===google.maps.places.PlacesServiceStatus.OK&&(l!=null&&l.name)?t(l.name):t(null)})})}function st(a){if(!Xe.value)return Qe("/login");a&&a.availableSeats>0&&(x.value=a,D.value=1,N.value="",B.value="",A.value={lat:null,lng:null,placeId:null,address:null,name:null},S.value={lat:null,lng:null,placeId:null,address:null,name:null},z.value=null,ye.value=!0,xe(()=>ut()))}function le(){ye.value=!1,setTimeout(()=>{x.value=null},300)}async function ot(){var t;if(!x.value)return;if(N.value&&!A.value.lat){const l=await be(N.value);l&&(A.value=l)}if(B.value&&!S.value.lat){const l=await be(B.value);l&&(S.value=l)}if(!A.value.lat||!S.value.lat){oe.warning("ข้อมูลไม่ครบถ้วน","กรุณาเลือกจุดขึ้นรถและจุดลงรถจากรายการหรือปักหมุดบนแผนที่");return}const a={routeId:x.value.id,numberOfSeats:D.value,pickupLocation:A.value,dropoffLocation:S.value};try{await he("/bookings",{method:"POST",body:a}),le(),oe.success("ส่งคำขอจองสำเร็จ!","คำขอของคุณถูกส่งไปให้ผู้ขับแล้ว โปรดรอการยืนยัน"),setTimeout(()=>Qe("/myTrip"),1500)}catch(l){console.error("Failed to create booking:",l),oe.error("เกิดข้อผิดพลาดในการจอง",((t=l.data)==null?void 0:t.message)||"โปรดลองใหม่อีกครั้งในภายหลัง")}}const Ae=()=>{!fe.value||k||(k=new google.maps.Map(fe.value,{center:{lat:13.7563,lng:100.5018},zoom:6,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0}),F=new google.maps.Geocoder,O=new google.maps.places.PlacesService(k),ve.value=!0)};function Se(){var t,l;if(!de.value||!ue.value||!((l=(t=window.google)==null?void 0:t.maps)!=null&&l.places))return;const a={fields:["place_id","name","formatted_address","geometry"]};ce=new google.maps.places.Autocomplete(de.value,{...a,types:["geocode","establishment"]}),ce.addListener("place_changed",()=>{var s,i,d,o,r,g;const n=ce.getPlace();n&&(c.value.origin=n.name||n.formatted_address||c.value.origin,c.value._originMeta={placeId:n.place_id||null,fullAddress:n.formatted_address||null,lat:((d=(i=(s=n.geometry)==null?void 0:s.location)==null?void 0:i.lat)==null?void 0:d.call(i))??null,lng:((g=(r=(o=n.geometry)==null?void 0:o.location)==null?void 0:r.lng)==null?void 0:g.call(r))??null})}),ge=new google.maps.places.Autocomplete(ue.value,{...a,types:["geocode","establishment"]}),ge.addListener("place_changed",()=>{var s,i,d,o,r,g;const n=ge.getPlace();n&&(c.value.destination=n.name||n.formatted_address||c.value.destination,c.value._destinationMeta={placeId:n.place_id||null,fullAddress:n.formatted_address||null,lat:((d=(i=(s=n.geometry)==null?void 0:s.location)==null?void 0:i.lat)==null?void 0:d.call(i))??null,lng:((g=(r=(o=n.geometry)==null?void 0:o.location)==null?void 0:r.lng)==null?void 0:g.call(r))??null})})}function $e(a){j.value=a,_.value={name:"",lat:null,lng:null},me.value=!0,xe(()=>{const t={lat:13.7563,lng:100.5018},l=a==="origin"?c.value._originMeta:c.value._destinationMeta,n=l!=null&&l.lat&&(l!=null&&l.lng)?{lat:l.lat,lng:l.lng}:t;J=new google.maps.Map(ke.value,{center:n,zoom:l!=null&&l.lat?14:6,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1}),J.addListener("click",s=>{const i=s.latLng;it(i),Ie(i)})})}function it(a){if(K){K.setPosition(a);return}K=new google.maps.Marker({position:a,map:J,draggable:!0}),K.addListener("dragend",t=>{Ie(t.latLng)})}async function Ie(a){const t=a.lat(),l=a.lng(),n=await new Promise(i=>{F.geocode({location:{lat:t,lng:l}},(d,o)=>{o==="OK"&&(d!=null&&d.length)?i(d[0]):i(null)})});let s="";if(n&&(s=(await G(n)).name||""),!s||dt(s)){const i=await Ne(t,l,120);i!=null&&i.name?s=i.name:n!=null&&n.formatted_address&&(s=n.formatted_address.replace(/,?\s*(Thailand|ไทย)\s*$/i,""))}_.value={name:s,lat:t,lng:l}}function rt(){!j.value||!_.value.name||(j.value==="origin"?(c.value.origin=_.value.name,c.value._originMeta={placeId:null,fullAddress:null,lat:_.value.lat,lng:_.value.lng}):j.value==="destination"&&(c.value.destination=_.value.name,c.value._destinationMeta={placeId:null,fullAddress:null,lat:_.value.lat,lng:_.value.lng}),ae())}function ae(){me.value=!1,j.value=null,K=null,J=null}function dt(a){return a?/^[A-Z0-9]{4,}\+[A-Z0-9]{2,}/i.test(a.trim()):!1}function Ne(a,t,l=100){return new Promise(n=>{if(!O)return n(null);O.nearbySearch({location:{lat:a,lng:t},radius:l},(s,i)=>{i===google.maps.places.PlacesServiceStatus.OK&&(s!=null&&s.length)?n(s[0]):n(null)})})}function ut(){var t,l,n,s;if(!((l=(t=window.google)==null?void 0:t.maps)!=null&&l.places))return;const a={fields:["place_id","name","formatted_address","geometry"],types:["geocode","establishment"]};ie.value&&((n=C==null?void 0:C.unbindAll)==null||n.call(C),C=new google.maps.places.Autocomplete(ie.value,a),C.addListener("place_changed",()=>{var d,o,r,g,m,v;const i=C.getPlace();i&&(N.value=i.name||i.formatted_address||N.value,A.value={lat:((r=(o=(d=i.geometry)==null?void 0:d.location)==null?void 0:o.lat)==null?void 0:r.call(o))??null,lng:((v=(m=(g=i.geometry)==null?void 0:g.location)==null?void 0:m.lng)==null?void 0:v.call(m))??null,placeId:i.place_id||null,address:i.formatted_address||null,name:i.name||null})})),re.value&&((s=L==null?void 0:L.unbindAll)==null||s.call(L),L=new google.maps.places.Autocomplete(re.value,a),L.addListener("place_changed",()=>{var d,o,r,g,m,v;const i=L.getPlace();i&&(B.value=i.name||i.formatted_address||B.value,S.value={lat:((r=(o=(d=i.geometry)==null?void 0:d.location)==null?void 0:o.lat)==null?void 0:r.call(o))??null,lng:((v=(m=(g=i.geometry)==null?void 0:g.location)==null?void 0:m.lng)==null?void 0:v.call(m))??null,placeId:i.place_id||null,address:i.formatted_address||null,name:i.name||null})}))}function Be(a){z.value=a,M.value={name:"",lat:null,lng:null,placeId:null,address:null},xe(()=>{const t={lat:13.7563,lng:100.5018},l=a==="pickup"?A.value:S.value,n=l.lat&&l.lng?{lat:l.lat,lng:l.lng}:t;W=new google.maps.Map(we.value,{center:n,zoom:l.lat?15:6,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1}),W.addListener("click",async s=>{const i=s.latLng;ct(i),await ze(i)})})}function Te(){z.value=null,W=null,U=null}function ct(a){if(U)return U.setPosition(a);U=new google.maps.Marker({position:a,map:W,draggable:!0}),U.addListener("dragend",t=>ze(t.latLng))}async function ze(a){const t=a.lat(),l=a.lng(),n=await new Promise(o=>{F.geocode({location:{lat:t,lng:l}},(r,g)=>{g==="OK"&&(r!=null&&r.length)?o(r[0]):o(null)})});let s="",i=(n==null?void 0:n.place_id)||null,d=(n==null?void 0:n.formatted_address)||null;if(n&&(s=(await G(n)).name||""),!s){const o=await Ne(t,l,120);if(o!=null&&o.place_id){i=o.place_id;const r=await new Promise(g=>{O.getDetails({placeId:o.place_id,fields:["name","formatted_address"]},(m,v)=>g(v===google.maps.places.PlacesServiceStatus.OK?m:null))});s=(r==null?void 0:r.name)||o.name||s,d=(r==null?void 0:r.formatted_address)||d}}d&&(d=q(d)),M.value={name:s,lat:t,lng:l,placeId:i,address:d}}function gt(){if(!z.value||!M.value.name)return;const a={lat:M.value.lat,lng:M.value.lng,placeId:M.value.placeId,address:M.value.address,name:M.value.name};z.value==="pickup"?(N.value=a.name||a.address||"",A.value=a):(B.value=a.name||a.address||"",S.value=a),Te()}function be(a){return new Promise(t=>{if(!a)return t(null);F.geocode({address:a},async(l,n)=>{var r,g,m,v,h,T;if(n!=="OK"||!(l!=null&&l.length))return t(null);const s=l[0],i=(m=(g=(r=s.geometry)==null?void 0:r.location)==null?void 0:g.lat)==null?void 0:m.call(g),d=(T=(h=(v=s.geometry)==null?void 0:v.location)==null?void 0:h.lng)==null?void 0:T.call(h),o=await G(s);t({lat:i,lng:d,placeId:s.place_id||null,address:q(s.formatted_address||""),name:o.name||null})})})}function mt(){c.value.origin="",c.value.destination="",c.value.date="",c.value.seats="",delete c.value._originMeta,delete c.value._destinationMeta,I.value=null,te()}function pt(a){if(typeof a!="string")return a;const t=a.split("+");if(t.length<=1)return a;let l=0;for(const n of t){const s=parseFloat(n.replace(/[^\d.]/g,""));Number.isNaN(s)||(/กม/.test(n)?l+=s*1e3:(/เมตร|ม\./.test(n),l+=s))}if(l>=1e3){const n=Math.round(l/1e3*10)/10;return`${n%1===0?n.toFixed(0):n} กม.`}return`${Math.round(l)} ม.`}function ft(a){if(typeof a!="string")return a;const t=a.split("+");if(t.length<=1)return a;let l=0;for(const i of t){const d=parseFloat(i.replace(/[^\d.]/g,""));Number.isNaN(d)||(/ชม/.test(i)?l+=d*60:l+=d)}const n=Math.floor(l/60),s=Math.round(l%60);return n?s?`${n} ชม. ${s} นาที`:`${n} ชม.`:`${s} นาที`}return wt(()=>{var a;if((a=window.google)!=null&&a.maps){Ae(),Se(),te();return}window[_e]=()=>{try{delete window[_e]}catch{}Ae(),Se(),te()}}),(a,t)=>(f(),p("div",null,[e("div",$t,[e("div",It,[t[19]||(t[19]=e("h2",{class:"mb-6 text-xl font-semibold text-gray-900"},"ค้นหาการเดินทาง",-1)),e("form",{onSubmit:ne(te,["prevent"]),class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5"},[e("div",null,[t[12]||(t[12]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"จุดเริ่มต้น",-1)),e("div",Nt,[E(e("input",{ref_key:"originInputEl",ref:de,"onUpdate:modelValue":t[0]||(t[0]=l=>c.value.origin=l),type:"text",placeholder:"เช่น กรุงเทพฯ",class:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[R,c.value.origin]]),e("button",{type:"button",onClick:t[1]||(t[1]=l=>$e("origin")),class:"absolute inset-y-0 my-auto text-gray-500 right-2 hover:text-blue-600",title:"เลือกจากแผนที่"},t[11]||(t[11]=[e("svg",{class:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M12 2a7 7 0 00-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 00-7-7zm0 9.5a2.5 2.5 0 110-5 2.5 2.5 0 010 5z"})],-1)]))])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"จุดปลายทาง",-1)),e("div",Bt,[E(e("input",{ref_key:"destinationInputEl",ref:ue,"onUpdate:modelValue":t[2]||(t[2]=l=>c.value.destination=l),type:"text",placeholder:"เช่น เชียงใหม่",class:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[R,c.value.destination]]),e("button",{type:"button",onClick:t[3]||(t[3]=l=>$e("destination")),class:"absolute inset-y-0 my-auto text-gray-500 right-2 hover:text-blue-600",title:"เลือกจากแผนที่"},t[13]||(t[13]=[e("svg",{class:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M12 2a7 7 0 00-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 00-7-7zm0 9.5a2.5 2.5 0 110-5 2.5 2.5 0 010 5z"})],-1)]))])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"วันที่",-1)),E(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>c.value.date=l),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[R,c.value.date]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"จำนวนที่นั่ง",-1)),E(e("select",{"onUpdate:modelValue":t[5]||(t[5]=l=>c.value.seats=l),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},t[16]||(t[16]=[kt('<option value="" data-v-86c5692c>ค่าเริ่มต้น</option><option value="1" data-v-86c5692c>1 ที่นั่ง</option><option value="2" data-v-86c5692c>2 ที่นั่ง</option><option value="3" data-v-86c5692c>3 ที่นั่ง</option><option value="4" data-v-86c5692c>4 ที่นั่ง</option><option value="5" data-v-86c5692c>5 ที่นั่ง</option>',6)]),512),[[Ze,c.value.seats]])]),e("div",{class:"flex items-end"},[e("div",{class:"flex items-end gap-2"},[t[18]||(t[18]=e("button",{type:"submit",class:"w-full px-5 py-3 text-white transition duration-200 bg-blue-600 rounded-md cursor-pointer hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"}," ค้นหา ",-1)),e("button",{type:"button",onClick:mt,class:"flex-1 px-5 py-3 font-medium text-gray-800 transition duration-200 bg-gray-200 rounded-md cursor-pointer hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-offset-2"}," รีเซ็ต ")])])],32)]),e("div",Tt,[e("div",zt,[e("div",Et,[e("div",Vt,[e("h3",jt,"ผลการค้นหา ("+u($.value.length)+" รายการ)",1)]),pe.value?(f(),p("div",Ft," กำลังค้นหาเส้นทาง... ")):(f(),p("div",Ot,[$.value.length===0?(f(),p("div",Dt," ไม่พบเส้นทางที่ค้นหา ")):w("",!0),(f(!0),p(P,null,V($.value,l=>(f(),p("div",{key:l.id,class:"p-6 transition-all duration-300 cursor-pointer route-card hover:shadow-lg",onClick:n=>lt(l)},[e("h1",Kt,[se(u(l.originName)+" ",1),t[20]||(t[20]=e("span",{class:"mx-1 font-semibold text-gray-900"},"→",-1)),se(" "+u(l.destinationName),1)]),e("div",qt,[e("img",{src:l.driver.image,alt:l.driver.name,class:"object-cover w-12 h-12 rounded-full"},null,8,Gt),e("div",Ht,[e("div",Rt,[e("div",null,[e("div",Zt,[e("h4",Wt,u(l.driver.name),1),l.driver.isVerified?(f(),p("div",Jt,t[21]||(t[21]=[e("svg",{class:"w-5 h-5 text-blue-600",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8.603 3.799A4.49 4.49 0 0112 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 013.498 1.307 4.491 4.491 0 011.307 3.497A4.49 4.49 0 0121.75 12c0 1.357-.6 2.573-1.549 3.397a4.49 4.49 0 01-1.307 3.498 4.491 4.491 0 01-3.497 1.307A4.49 4.49 0 0112 21.75a4.49 4.49 0 01-3.397-1.549 4.49 4.49 0 01-3.498-1.306 4.491 4.491 0 01-1.307-3.498A4.49 4.49 0 012.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 011.307-3.497 4.49 4.49 0 013.497-1.307zm7.007 6.387a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.07-.01l3.5-4.875z","clip-rule":"evenodd"})],-1),e("span",{class:"absolute px-2 py-1 mb-2 text-xs text-white transition-opacity -translate-x-1/2 bg-gray-800 rounded-md opacity-0 pointer-events-none bottom-full left-1/2 w-max group-hover:opacity-100"}," ผู้ขับขี่ยืนยันตัวตนแล้ว ",-1)]))):w("",!0)]),e("div",Qt,[e("div",Xt,[(f(),p(P,null,V(5,n=>e("span",{key:n},u(n<=l.driver.rating?"★":"☆"),1)),64))]),e("span",Yt,u(l.driver.rating)+" ("+u(l.driver.reviews)+" รีวิว) ",1)])]),e("div",el,[e("div",tl,u(l.price)+" บาท",1),t[22]||(t[22]=e("div",{class:"text-sm text-gray-600"},"ต่อที่นั่ง",-1))])]),e("div",ll,[e("div",al,[e("span",nl,u(l.date),1),t[23]||(t[23]=e("span",{class:"mx-2 text-gray-300"},"|",-1)),t[24]||(t[24]=e("span",{class:"font-medium"},"เวลาออก:",-1)),e("span",sl,u(l.departureTime),1),t[25]||(t[25]=e("span",{class:"mx-2 text-gray-300"},"|",-1)),t[26]||(t[26]=e("span",{class:"font-medium"},"ระยะเวลา:",-1)),e("span",ol,u(l.durationText),1),t[27]||(t[27]=e("span",{class:"mx-2 text-gray-300"},"|",-1)),t[28]||(t[28]=e("span",{class:"font-medium"},"ระยะทาง:",-1)),e("span",il,u(l.distanceText),1)]),e("div",rl,[e("span",{class:Mt(["px-2 py-1 rounded-full text-xs font-medium",l.availableSeats>2?"bg-green-100 text-green-800":l.availableSeats>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"])},u(l.availableSeats>0?`เหลือ ${l.availableSeats}
                                                    ที่นั่ง`:"เต็มแล้ว"),3)])])])]),I.value&&I.value.id===l.id?(f(),p("div",dl,[e("div",ul,[e("div",null,[t[31]||(t[31]=e("h5",{class:"mb-2 font-medium text-gray-900"},"รายละเอียดเส้นทาง",-1)),e("ul",cl,[e("li",null,[t[29]||(t[29]=se(" • จุดเริ่มต้น: ")),e("span",gl,u(l.originName),1),l.originAddress?(f(),p("span",ml," — "+u(l.originAddress),1)):w("",!0)]),l.stops&&l.stops.length?(f(),p(P,{key:0},[e("li",pl,"• จุดแวะระหว่างทาง ("+u(l.stops.length)+" จุด):",1),(f(!0),p(P,null,V(l.stops,(n,s)=>(f(),p("li",{key:s},"  - จุดแวะ "+u(s+1)+": "+u(n),1))),128))],64)):w("",!0),e("li",fl,[t[30]||(t[30]=se(" • จุดปลายทาง: ")),e("span",vl,u(l.destinationName),1),l.destinationAddress?(f(),p("span",yl," — "+u(l.destinationAddress),1)):w("",!0)])])]),e("div",null,[t[32]||(t[32]=e("h5",{class:"mb-2 font-medium text-gray-900"},"รายละเอียดรถ",-1)),e("ul",bl,[(f(!0),p(P,null,V(l.carDetails,n=>(f(),p("li",{key:n},"• "+u(n),1))),128))])])]),e("div",xl,[l.conditions?(f(),p("div",_l,[t[33]||(t[33]=e("h5",{class:"mb-2 font-medium text-gray-900"},"เงื่อนไขการเดินทาง",-1)),e("p",hl,u(l.conditions),1)])):w("",!0),l.photos&&l.photos.length>0?(f(),p("div",wl,[t[34]||(t[34]=e("h5",{class:"mb-2 font-medium text-gray-900"},"รูปภาพรถยนต์",-1)),e("div",kl,[(f(!0),p(P,null,V(l.photos.slice(0,3),(n,s)=>(f(),p("div",{key:s,class:""},[e("img",{src:n,alt:"Vehicle photo",class:"object-cover w-full transition-opacity border border-gray-300 rounded-lg shadow-sm cursor-pointer aspect-video hover:opacity-90"},null,8,Ml)]))),128))])])):w("",!0)]),e("div",Pl,[e("button",{onClick:ne(n=>st(l),["stop"]),disabled:l.availableSeats===0,class:"px-6 py-2 text-white transition duration-200 bg-blue-600 rounded-md cursor-pointer hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed"}," จองที่นั่ง ",8,Cl)])])):w("",!0)],8,Ut))),128))]))])]),e("div",Ll,[e("div",Al,[t[35]||(t[35]=e("div",{class:"p-6 border-b border-gray-300"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"แผนที่เส้นทาง")],-1)),e("div",{ref_key:"mapContainer",ref:fe,class:"h-96"},null,512)])])])]),Re(Je,{name:"modal-fade"},{default:We(()=>[ye.value&&x.value?(f(),p("div",{key:0,class:"modal-overlay",onClick:ne(le,["self"])},[e("div",Sl,[z.value?(f(),p(P,{key:1},[e("div",Il,[e("h3",Nl," เลือก"+u(z.value==="pickup"?"จุดขึ้นรถ":"จุดลงรถ"),1),e("button",{onClick:Te,class:"text-gray-400 hover:text-gray-600"},t[38]||(t[38]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Bl,[e("div",{ref_key:"bookingPickerMapEl",ref:we,class:"w-full",style:{height:"72vh"}},null,512),e("div",Tl,[e("div",zl,[t[39]||(t[39]=e("span",{class:"font-medium"},"ตำแหน่ง:",-1)),e("span",El,u(M.value.name||"— ยังไม่เลือก —"),1)]),e("button",{class:"px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:!M.value.name,onClick:gt}," ใช้ตำแหน่งนี้ ",8,Vl)])])],64)):(f(),p("div",$l,[t[37]||(t[37]=e("h3",{class:"text-xl font-semibold text-gray-900"},"ยืนยันการจอง",-1)),e("button",{onClick:le,class:"text-gray-400 hover:text-gray-600"},t[36]||(t[36]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])),e("div",jl,[e("div",Fl,[t[41]||(t[41]=e("h4",{class:"mb-3 font-semibold text-gray-900"},"เดินทางกับ",-1)),e("div",Ol,[e("img",{src:x.value.driver.image,alt:x.value.driver.name,class:"object-cover w-12 h-12 rounded-full"},null,8,Dl),e("div",null,[e("div",Ul,[e("div",Kl,u(x.value.driver.name),1),x.value.driver.isVerified?(f(),p("div",ql,t[40]||(t[40]=[e("svg",{class:"w-5 h-5 text-blue-600",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8.603 3.799A4.49 4.49 0 0112 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 013.498 1.307 4.491 4.491 0 011.307 3.497A4.49 4.49 0 0121.75 12c0 1.357-.6 2.573-1.549 3.397a4.49 4.49 0 01-1.307 3.498 4.491 4.491 0 01-3.497 1.307A4.49 4.49 0 0112 21.75a4.49 4.49 0 01-3.397-1.549 4.49 4.49 0 01-3.498-1.306 4.491 4.491 0 01-1.307-3.498A4.49 4.49 0 012.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 011.307-3.497 4.49 4.49 0 013.497-1.307zm7.007 6.387a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.07-.01l3.5-4.875z","clip-rule":"evenodd"})],-1),e("span",{class:"absolute px-2 py-1 mb-2 text-xs text-white transition-opacity -translate-x-1/2 bg-gray-800 rounded-md opacity-0 pointer-events-none bottom-full left-1/2 w-max group-hover:opacity-100"}," ผู้ขับขี่ยืนยันตัวตนแล้ว ",-1)]))):w("",!0)]),e("div",Gl,[e("div",Hl,[(f(),p(P,null,V(5,l=>e("span",{key:l},u(l<=x.value.driver.rating?"★":"☆"),1)),64))]),e("span",Rl,u(x.value.driver.rating)+" ("+u(x.value.driver.reviews)+" รีวิว)",1)])])])]),e("div",Zl,[e("div",null,[t[42]||(t[42]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"วันที่เดินทาง",-1)),e("div",Wl,u(x.value.date),1)]),e("div",null,[t[43]||(t[43]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"เวลาออก",-1)),e("div",Jl,u(x.value.departureTime),1)])]),e("div",Ql,[t[47]||(t[47]=e("h4",{class:"mb-3 font-semibold text-gray-900"},"เส้นทางการเดินทาง",-1)),e("div",Xl,[e("div",Yl,[e("div",ea,u(x.value.originName),1),t[44]||(t[44]=e("div",{class:"text-sm text-gray-600"},"จุดเริ่มต้น",-1))]),t[46]||(t[46]=e("div",{class:"text-blue-600"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1)),e("div",ta,[e("div",la,u(x.value.destinationName),1),t[45]||(t[45]=e("div",{class:"text-sm text-gray-600"},"จุดปลายทาง",-1))])])]),e("div",aa,[e("div",null,[t[48]||(t[48]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"จำนวนที่นั่งที่ต้องการจอง",-1)),E(e("select",{"onUpdate:modelValue":t[6]||(t[6]=l=>D.value=l),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[(f(!0),p(P,null,V(x.value.availableSeats,l=>(f(),p("option",{key:l,value:l},u(l)+" ที่นั่ง ",9,na))),128))],512),[[Ze,D.value]])]),e("div",null,[t[50]||(t[50]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"เลือกจุดขึ้นรถ",-1)),e("div",sa,[E(e("input",{ref_key:"pickupInputEl",ref:ie,"onUpdate:modelValue":t[7]||(t[7]=l=>N.value=l),type:"text",placeholder:"พิมพ์ชื่อสถานที่...",class:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[R,N.value]]),e("button",{type:"button",onClick:t[8]||(t[8]=l=>Be("pickup")),class:"absolute inset-y-0 my-auto text-gray-500 right-2 hover:text-blue-600",title:"เลือกจากแผนที่"},t[49]||(t[49]=[e("svg",{class:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M12 2a7 7 0 00-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 00-7-7zm0 9.5a2.5 2.5 0 110-5 2.5 2.5 0 010 5z"})],-1)]))])]),e("div",null,[t[52]||(t[52]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"เลือกจุดลงรถ",-1)),e("div",oa,[E(e("input",{ref_key:"dropoffInputEl",ref:re,"onUpdate:modelValue":t[9]||(t[9]=l=>B.value=l),type:"text",placeholder:"พิมพ์ชื่อสถานที่...",class:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[R,B.value]]),e("button",{type:"button",onClick:t[10]||(t[10]=l=>Be("dropoff")),class:"absolute inset-y-0 my-auto text-gray-500 right-2 hover:text-blue-600",title:"เลือกจากแผนที่"},t[51]||(t[51]=[e("svg",{class:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M12 2a7 7 0 00-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 00-7-7zm0 9.5a2.5 2.5 0 110-5 2.5 2.5 0 010 5z"})],-1)]))])])]),e("div",ia,[e("div",ra,[t[53]||(t[53]=e("span",{class:"text-gray-700"},"ราคาต่อที่นั่ง",-1)),e("span",da,u(x.value.price)+" บาท",1)]),e("div",ua,[t[54]||(t[54]=e("span",{class:"text-gray-700"},"จำนวนที่นั่ง",-1)),e("span",ca,u(D.value)+" ที่นั่ง",1)]),e("div",ga,[e("div",ma,[t[55]||(t[55]=e("span",{class:"font-semibold text-gray-900"},"ยอดรวม",-1)),e("span",pa,u(tt.value)+" บาท",1)])])]),e("div",{class:"flex space-x-4"},[e("button",{onClick:le,class:"flex-1 px-4 py-3 font-semibold text-gray-800 transition duration-200 bg-gray-200 rounded-md hover:bg-gray-300"}," ยกเลิก "),e("button",{onClick:ot,class:"flex-1 px-4 py-3 font-semibold text-white transition duration-200 bg-blue-600 rounded-md hover:bg-blue-700"}," ยืนยันการจอง ")])])])])):w("",!0)]),_:1}),Re(Je,{name:"modal-fade"},{default:We(()=>[me.value?(f(),p("div",{key:0,class:"modal-overlay",onClick:ne(ae,["self"])},[e("div",fa,[e("div",va,[e("h3",ya,"เลือก"+u(j.value==="origin"?"จุดเริ่มต้น":"จุดปลายทาง"),1),e("button",{onClick:ae,class:"text-gray-400 hover:text-gray-600"},t[56]||(t[56]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",ba,[e("div",{ref_key:"placePickerMapEl",ref:ke,class:"w-full border border-gray-200 rounded-md h-80"},null,512),e("div",xa,[t[57]||(t[57]=e("div",{class:"font-medium"},"ตำแหน่งที่เลือก:",-1)),e("div",_a,u(_.value.name||"— ยังไม่เลือก —"),1),_.value.lat&&_.value.lng?(f(),p("div",ha," lat: "+u(_.value.lat.toFixed(6))+", lng: "+u(_.value.lng.toFixed(6)),1)):w("",!0)]),e("div",wa,[e("button",{onClick:ae,class:"flex-1 px-4 py-2 font-semibold text-gray-800 bg-gray-200 rounded-md hover:bg-gray-300"}," ยกเลิก "),e("button",{disabled:!_.value.name,onClick:rt,class:"flex-1 px-4 py-2 font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed"}," ใช้ตำแหน่งนี้ ",8,ka)])])])])):w("",!0)]),_:1})]))}},Ta=bt(Pa,[["__scopeId","data-v-86c5692c"]]);export{Ta as default};
