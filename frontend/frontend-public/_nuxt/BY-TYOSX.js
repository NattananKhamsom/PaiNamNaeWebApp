import{r as q,A as se,x as j,i as be,H as Le,c as f,b as K,a as o,h as C,v as P,I as Ne,z as W,e as ae,t as u,g as Be,F as Q,q as ne,J as ie,s as De,C as X,o as g,d as k,n as Z,y as Ae}from"./DPSIKoxe.js";import{u as Te}from"./BaxiziUg.js";import{d as x}from"./B5yDJBm8.js";import{b as $e}from"./C5FTVxxA.js";import{A as Me,_ as Ie}from"./CaCOxDSn.js";import{C as Se}from"./CL2Ezi0q.js";import"./Cpj98o6Y.js";import"./Lcixqshc.js";import"./DOK8vhV6.js";const Re={id:"main-content",class:"main-content mt-16 ml-0 lg:ml-[280px] p-6"},Ve={class:"mx-auto max-w-8xl"},Fe={class:"flex flex-col gap-3 mb-6 sm:flex-row sm:items-center sm:justify-between"},ze={class:"flex items-center gap-2"},Ue={class:"mb-4 bg-white border border-gray-300 rounded-lg shadow-sm"},He={class:"grid grid-cols-1 gap-3 px-4 py-4 sm:px-6 lg:grid-cols-[repeat(24,minmax(0,1fr))]"},qe={class:"lg:col-span-5"},Pe={class:"lg:col-span-5"},je={class:"lg:col-span-4"},Oe={class:"lg:col-span-5"},Ge={class:"lg:col-span-5"},Je={class:"lg:col-span-4"},Ye={class:"bg-white border border-gray-300 rounded-lg shadow-sm"},Ke={class:"flex items-center justify-between px-4 py-4 border-b border-gray-200 sm:px-6"},We={class:"text-sm text-gray-600"},Qe={key:0,class:"p-8 text-center text-gray-500"},Xe={key:1,class:"p-8 text-center text-red-600"},Ze={key:2,class:"overflow-x-auto"},et={class:"min-w-full divide-y divide-gray-200"},tt={class:"bg-white divide-y divide-gray-200"},ot={class:"px-4 py-3"},st={class:"flex items-center gap-3"},at={class:"font-medium text-gray-900"},nt={class:"text-xs text-gray-500"},it={class:"px-4 py-3"},rt={class:"font-medium text-gray-900"},lt={class:"text-xs text-gray-500"},dt={class:"text-xs text-gray-500"},ut={class:"text-gray-400"},ct={class:"px-4 py-3"},pt={class:"text-xs text-gray-700"},mt={class:"px-4 py-3 text-gray-700"},ft={class:"text-sm"},gt={class:"px-4 py-3 text-gray-700"},xt={class:"text-sm"},yt={class:"px-4 py-3"},vt={class:"px-4 py-3 text-gray-700"},ht={class:"text-sm"},wt={class:"text-xs text-gray-500"},_t={class:"px-4 py-3"},kt=["onClick"],Ct=["onClick"],Et=["onClick"],bt={key:0},Lt={class:"flex flex-col gap-3 px-4 py-4 border-t border-gray-200 sm:px-6 sm:flex-row sm:items-center sm:justify-between"},Nt={class:"flex flex-wrap items-center gap-3 text-sm"},Bt={class:"flex items-center gap-2"},Dt={class:"flex items-center gap-1"},At=["disabled"],Tt={key:0,class:"px-2 text-sm text-gray-500"},$t=["disabled","onClick"],Mt=["disabled"],jt={__name:"index",setup(It){x.locale("th"),x.extend($e);const{toast:b}=De(),L=q(!1),B=q(""),O=q([]),c=se({page:1,limit:20,total:0,totalPages:1}),r=se({q:"",pickupName:"",dropoffName:"",status:"",departureFrom:"",departureTo:"",sort:""});function re(t){return t==="CONFIRMED"?"bg-green-100 text-green-700":t==="PENDING"?"bg-amber-100 text-amber-700":t==="REJECTED"?"bg-red-100 text-red-700":t==="CANCELLED"?"bg-gray-200 text-gray-700":"bg-gray-100 text-gray-700"}function le(t){return t==="CONFIRMED"?"fa-circle-check":t==="PENDING"?"fa-hourglass-half":t==="REJECTED"?"fa-circle-xmark":t==="CANCELLED"?"fa-ban":"fa-circle"}function G(t){return t?x(t).format("D MMMM BBBB HH:mm"):"-"}function de(t){if(!t&&t!==0)return"-";const e=t/1e3;return`${e.toFixed(e<10?1:0)} กม.`}function ue(t){if(!t&&t!==0)return"-";const e=Math.floor(t/3600),n=Math.round(t%3600/60);return e?`${e} ชม. ${n} นาที`:`${n} นาที`}function ce(t){const[e,n]=(t||"").split(":");return!e||!["asc","desc"].includes(n)?{by:void 0,order:void 0}:{by:e,order:n}}const J=j(()=>{let t=[...O.value||[]];const e=(r.q||"").toLowerCase().trim();e&&(t=t.filter(s=>{var p,y,v,h,w,m,_,T,$,M,I,S,R,V,F,z,U,H;return[(p=s==null?void 0:s.passenger)==null?void 0:p.firstName,(y=s==null?void 0:s.passenger)==null?void 0:y.lastName,(v=s==null?void 0:s.passenger)==null?void 0:v.email,(h=s==null?void 0:s.passenger)==null?void 0:h.username,(m=(w=s==null?void 0:s.route)==null?void 0:w.driver)==null?void 0:m.firstName,(T=(_=s==null?void 0:s.route)==null?void 0:_.driver)==null?void 0:T.lastName,(M=($=s==null?void 0:s.route)==null?void 0:$.vehicle)==null?void 0:M.vehicleModel,(S=(I=s==null?void 0:s.route)==null?void 0:I.vehicle)==null?void 0:S.vehicleType,(V=(R=s==null?void 0:s.route)==null?void 0:R.startLocation)==null?void 0:V.name,(z=(F=s==null?void 0:s.route)==null?void 0:F.endLocation)==null?void 0:z.name,(U=s==null?void 0:s.pickupLocation)==null?void 0:U.name,(H=s==null?void 0:s.dropoffLocation)==null?void 0:H.name].some(Ee=>(Ee||"").toString().toLowerCase().includes(e))}));const n=(r.pickupName||"").toLowerCase().trim();n&&(t=t.filter(s=>{var l;return(((l=s==null?void 0:s.pickupLocation)==null?void 0:l.name)||"").toLowerCase().includes(n)}));const a=(r.dropoffName||"").toLowerCase().trim();if(a&&(t=t.filter(s=>{var l;return(((l=s==null?void 0:s.dropoffLocation)==null?void 0:l.name)||"").toLowerCase().includes(a)})),r.status&&(t=t.filter(s=>((s==null?void 0:s.status)||"").toUpperCase()===r.status.toUpperCase())),r.departureFrom){const s=x(r.departureFrom).startOf("day");t=t.filter(l=>{var p;return((p=l==null?void 0:l.route)==null?void 0:p.departureTime)&&x(l.route.departureTime).isAfter(s.subtract(1,"ms"))})}if(r.departureTo){const s=x(r.departureTo).endOf("day");t=t.filter(l=>{var p;return((p=l==null?void 0:l.route)==null?void 0:p.departureTime)&&x(l.route.departureTime).isBefore(s.add(1,"ms"))})}const{by:d,order:i}=ce(r.sort);if(d){const s=d.split(".");t.sort((l,p)=>{const y=s.reduce((m,_)=>m?m[_]:void 0,l),v=s.reduce((m,_)=>m?m[_]:void 0,p),h=typeof y=="string"&&x(y).isValid()?+x(y):y,w=typeof v=="string"&&x(v).isValid()?+x(v):v;return h==null&&w==null?0:h==null?i==="asc"?1:-1:w==null||h<w?i==="asc"?-1:1:h>w?i==="asc"?1:-1:0})}return t}),E=j(()=>Math.max(1,Math.ceil((J.value.length||0)/(c.limit||20)))),pe=j(()=>{const t=E.value,e=c.page;if(!t||t<1)return[];if(t<=5)return Array.from({length:t},(i,s)=>s+1);const n=new Set([1,t,e]);e-1>1&&n.add(e-1),e+1<t&&n.add(e+1);const a=Array.from(n).sort((i,s)=>i-s),d=[];for(let i=0;i<a.length;i++)i>0&&a[i]-a[i-1]>1&&d.push("…"),d.push(a[i]);return d}),ee=j(()=>{const t=(c.page-1)*c.limit,e=t+c.limit,n=J.value.slice(t,e);return c.total=J.value.length,c.totalPages=E.value,n});async function te(){L.value=!0,B.value="";try{const t=ie("token").value||localStorage.getItem("token"),e=await fetch("http://localhost:3000/api/bookings/admin",{headers:{Accept:"application/json",...t?{Authorization:`Bearer ${t}`}:{}},credentials:"include"}),n=await e.json();if(!e.ok)throw new Error((n==null?void 0:n.message)||`Request failed: ${e.status}`);O.value=Array.isArray(n==null?void 0:n.data)?n.data:[],c.page=1,A()}catch(t){console.error(t),B.value=(t==null?void 0:t.message)||"ไม่สามารถโหลดข้อมูลได้",b.error("เกิดข้อผิดพลาด",B.value),O.value=[]}finally{L.value=!1}}function D(t){t<1||t>E.value||(c.page=t)}function A(){c.page=1}function me(){r.q="",r.pickupName="",r.dropoffName="",r.status="",r.departureFrom="",r.departureTo="",r.sort="",c.page=1}function fe(t){X(`/admin/bookings/${t.id}/edit`).catch(()=>{b.info("ยังไม่รองรับ",`ดูรายละเอียด Booking: ${t.id}`)})}function ge(t){X(`/admin/bookings/${t.id}/edit`).catch(()=>{b.info("ยังไม่รองรับ",`ดูรายละเอียด Booking: ${t.id}`)})}function xe(t){X("/admin/bookings/create").catch(()=>{b.info("ยังไม่รองรับ",`ดูรายละเอียด Booking: ${t.id}`)})}const Y=q(!1),N=q(null);function ye(t){N.value=t,Y.value=!0}function oe(){Y.value=!1,N.value=null}async function ve(){var e,n,a,d;if(!N.value)return;const t=N.value;try{await he(t.id);const i=((n=(e=t==null?void 0:t.route)==null?void 0:e.startLocation)==null?void 0:n.name)||"-",s=((d=(a=t==null?void 0:t.route)==null?void 0:a.endLocation)==null?void 0:d.name)||"-";b.success("ลบการจองเรียบร้อย",`${i} → ${s} ถูกลบถาวรแล้ว`),oe();const l=c.page;await te(),l>E.value?D(E.value):D(l)}catch(i){console.error(i);const s=we(i);b.error(s.title,s.body)}}async function he(t){const e=Ae(),n=ie("token").value||localStorage.getItem("token"),a=await fetch(`${e.public.apiBase}/bookings/admin/${t}`,{method:"DELETE",headers:{Accept:"application/json",...n?{Authorization:`Bearer ${n}`}:{}},credentials:"include"});let d;try{d=await a.json()}catch{const i=await a.text(),s=new Error(i||"Unexpected response from server");throw s.status=a.status,s}if(!a.ok){const i=new Error((d==null?void 0:d.message)||`Request failed with status ${a.status}`);throw i.status=a.status,i.payload=d,i}return d}function we(t){var i,s,l;const e=(t==null?void 0:t.status)||((i=t==null?void 0:t.response)==null?void 0:i.status)||((s=t==null?void 0:t.data)==null?void 0:s.statusCode),n=(t==null?void 0:t.message)||((l=t==null?void 0:t.data)==null?void 0:l.message)||"";let a="ลบไม่สำเร็จ",d=n||"ไม่สามารถลบการจองได้";return e===404||/not found/i.test(n)?(a="ไม่พบการจอง",d="รายการนี้อาจถูกลบไปแล้ว หรือไม่พบในระบบ"):e===401||e===403?(a="ไม่ได้รับอนุญาต",d="สิทธิ์ไม่เพียงพอสำหรับการลบ"):(e===409||/conflict|cannot delete/i.test(n))&&(a="ไม่สามารถลบได้",d=n||"มีเงื่อนไขบางอย่างที่ทำให้ลบไม่ได้"),{title:a,body:d,status:e,raw:n}}Te({});function _e(){const t=document.getElementById("sidebar"),e=document.getElementById("overlay");!t||!e||(t.classList.remove("mobile-open"),e.classList.add("hidden"))}function ke(){window.toggleSidebar=function(){const t=document.getElementById("sidebar"),e=document.getElementById("main-content"),n=document.getElementById("toggle-icon");!t||!e||!n||(t.classList.toggle("collapsed"),t.classList.contains("collapsed")?(e.style.marginLeft="80px",n.classList.replace("fa-chevron-left","fa-chevron-right")):(e.style.marginLeft="280px",n.classList.replace("fa-chevron-right","fa-chevron-left")))},window.toggleMobileSidebar=function(){const t=document.getElementById("sidebar"),e=document.getElementById("overlay");!t||!e||(t.classList.toggle("mobile-open"),e.classList.toggle("hidden"))},window.toggleSubmenu=function(t){const e=document.getElementById(t),n=document.getElementById(t+"-icon");!e||!n||(e.classList.toggle("hidden"),e.classList.contains("hidden")?n.classList.replace("fa-chevron-up","fa-chevron-down"):n.classList.replace("fa-chevron-down","fa-chevron-up"))},window.__adminResizeHandler__=function(){const t=document.getElementById("sidebar"),e=document.getElementById("main-content"),n=document.getElementById("overlay");!t||!e||!n||(window.innerWidth>=1024?(t.classList.remove("mobile-open"),n.classList.add("hidden"),t.classList.contains("collapsed")?e.style.marginLeft="80px":e.style.marginLeft="280px"):e.style.marginLeft="0")},window.addEventListener("resize",window.__adminResizeHandler__)}function Ce(){window.removeEventListener("resize",window.__adminResizeHandler__||(()=>{})),delete window.toggleSidebar,delete window.toggleMobileSidebar,delete window.closeMobileSidebar,delete window.toggleSubmenu,delete window.__adminResizeHandler__}return be(()=>{ke(),typeof window.__adminResizeHandler__=="function"&&window.__adminResizeHandler__(),te()}),Le(()=>{Ce()}),(t,e)=>{var n;return g(),f("div",null,[K(Me),K(Ie),o("main",Re,[o("div",Ve,[o("div",Fe,[o("div",{class:"flex items-center gap-3"},[e[11]||(e[11]=o("h1",{class:"text-2xl font-semibold text-gray-800"},"Booking Management",-1)),o("button",{onClick:xe,class:"inline-flex items-center gap-2 px-3 py-2 text-white bg-blue-600 rounded-md cursor-pointer hover:bg-blue-700"},e[10]||(e[10]=[o("i",{class:"fa-solid fa-plus"},null,-1),o("span",{class:"hidden sm:inline"},"สร้างการจองใหม่",-1)]))]),o("div",ze,[C(o("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>r.q=a),onKeyup:Ne(A,["enter"]),type:"text",placeholder:"ค้นหา : ผู้โดยสาร / ไดรเวอร์ / เส้นทาง / ยานพาหนะ / อีเมล",class:"max-w-full px-3 py-2 border border-gray-300 rounded-md w-72 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[P,r.q,void 0,{trim:!0}]]),o("button",{onClick:A,class:"px-4 py-2 text-white bg-blue-600 rounded-md cursor-pointer hover:bg-blue-700"}," ค้นหา ")])]),o("div",Ue,[o("div",He,[o("div",qe,[e[12]||(e[12]=o("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"จุดรับ (ใช้ key: name)",-1)),C(o("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.pickupName=a),type:"text",placeholder:"เช่น มอแดง เพลส",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500"},null,512),[[P,r.pickupName,void 0,{trim:!0}]])]),o("div",Pe,[e[13]||(e[13]=o("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"จุดส่ง (ใช้ key: name)",-1)),C(o("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>r.dropoffName=a),type:"text",placeholder:"เช่น โลตัส ขอนแก่น 2",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500"},null,512),[[P,r.dropoffName,void 0,{trim:!0}]])]),o("div",je,[e[15]||(e[15]=o("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"สถานะ",-1)),C(o("select",{"onUpdate:modelValue":e[3]||(e[3]=a=>r.status=a),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500"},e[14]||(e[14]=[ae('<option value="">ทั้งหมด</option><option value="PENDING">PENDING</option><option value="CONFIRMED">CONFIRMED</option><option value="REJECTED">REJECTED</option><option value="CANCELLED">CANCELLED</option>',5)]),512),[[W,r.status]])]),o("div",Oe,[e[16]||(e[16]=o("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"เวลาออกเดินทางตั้งแต่ (YYYY-MM-DD)",-1)),C(o("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>r.departureFrom=a),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500"},null,512),[[P,r.departureFrom]])]),o("div",Ge,[e[17]||(e[17]=o("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"ถึงวันที่",-1)),C(o("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>r.departureTo=a),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500"},null,512),[[P,r.departureTo]])]),o("div",Je,[e[19]||(e[19]=o("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"เรียงตาม",-1)),C(o("select",{"onUpdate:modelValue":e[6]||(e[6]=a=>r.sort=a),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500"},e[18]||(e[18]=[ae('<option value="">(ค่าเริ่มต้น)</option><option value="createdAt:desc">createdAt desc</option><option value="createdAt:asc">createdAt asc</option><option value="updatedAt:desc">updatedAt desc</option><option value="updatedAt:asc">updatedAt asc</option><option value="route.departureTime:desc">departureTime desc</option><option value="route.departureTime:asc">departureTime asc</option>',7)]),512),[[W,r.sort]])]),o("div",{class:"flex items-end justify-end gap-2 mt-1 lg:col-span-4 lg:mt-0"},[o("button",{onClick:me,class:"px-3 py-2 text-gray-700 border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50"}," ล้างตัวกรอง "),o("button",{onClick:A,class:"px-4 py-2 text-white bg-blue-600 rounded-md cursor-pointer hover:bg-blue-700"}," ใช้ตัวกรอง ")])])]),o("div",Ye,[o("div",Ke,[o("div",We," หน้าที่ "+u(c.page)+" / "+u(E.value)+" • ทั้งหมด "+u(c.total)+" การจอง ",1)]),L.value?(g(),f("div",Qe,"กำลังโหลดข้อมูล...")):B.value?(g(),f("div",Xe,u(B.value),1)):(g(),f("div",Ze,[o("table",et,[e[28]||(e[28]=o("thead",{class:"bg-gray-50"},[o("tr",null,[o("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"}," ผู้โดยสาร"),o("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"},"เส้นทาง "),o("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"},"จุดรับ → จุดส่ง"),o("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"}," ออกเดินทาง"),o("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"},"ที่นั่ง "),o("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"},"สถานะ "),o("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"}," สร้างเมื่อ"),o("th",{class:"px-4 py-3 text-xs font-medium text-left text-gray-500 uppercase"},"การกระทำ ")])],-1)),o("tbody",tt,[(g(!0),f(Q,null,ne(ee.value,a=>{var d,i,s,l,p,y,v,h,w,m,_,T,$,M,I,S,R,V,F,z,U;return g(),f("tr",{key:a.id,class:"transition-opacity hover:bg-gray-50"},[o("td",ot,[o("div",st,[o("div",null,[o("div",at,u((d=a.passenger)==null?void 0:d.firstName)+" "+u((i=a.passenger)==null?void 0:i.lastName),1),o("div",nt,u(((s=a.passenger)==null?void 0:s.email)||"-"),1)])])]),o("td",it,[o("div",rt,[k(u(((p=(l=a.route)==null?void 0:l.startLocation)==null?void 0:p.name)||"-")+" ",1),e[20]||(e[20]=o("span",{class:"mx-2 text-gray-400"},"→",-1)),k(" "+u(((v=(y=a.route)==null?void 0:y.endLocation)==null?void 0:v.name)||"-"),1)]),o("div",lt,[k(" ระยะทาง : "+u(de((h=a.route)==null?void 0:h.distanceMeters))+" ",1),e[21]||(e[21]=o("span",{class:"mx-2 text-gray-300"},"|",-1)),k(" เวลา : "+u(ue((w=a.route)==null?void 0:w.durationSeconds)),1)]),o("div",dt,[k(" ไดรเวอร์: "+u((_=(m=a.route)==null?void 0:m.driver)==null?void 0:_.firstName)+" "+u(($=(T=a.route)==null?void 0:T.driver)==null?void 0:$.lastName)+" ",1),e[22]||(e[22]=o("span",{class:"mx-2 text-gray-300"},"|",-1)),k(" รถ: "+u(((I=(M=a.route)==null?void 0:M.vehicle)==null?void 0:I.vehicleModel)||"-")+" ",1),o("span",ut,"("+u(((R=(S=a.route)==null?void 0:S.vehicle)==null?void 0:R.vehicleType)||"-")+")",1)])]),o("td",ct,[o("div",pt,[k(u(((V=a.pickupLocation)==null?void 0:V.name)||"-")+" ",1),e[23]||(e[23]=o("span",{class:"mx-2 text-gray-400"},"→",-1)),k(" "+u(((F=a.dropoffLocation)==null?void 0:F.name)||"-"),1)])]),o("td",mt,[o("div",ft,u(G((z=a.route)==null?void 0:z.departureTime)),1)]),o("td",gt,[o("div",xt,u(a.numberOfSeats)+" ที่นั่ง",1)]),o("td",yt,[o("span",{class:Z(["inline-flex items-center px-2 py-1 text-xs font-medium rounded-full",re(a.status)])},[o("i",{class:Z(["mr-1 fa-solid",le(a.status)])},null,2),k(" "+u(a.status||"-"),1)],2)]),o("td",vt,[o("div",ht,u(G(a.createdAt)),1),o("div",wt,"อัปเดต "+u(G((U=a.route)==null?void 0:U.updatedAt)),1)]),o("td",_t,[o("button",{onClick:H=>fe(a),class:"p-2 text-gray-500 transition-colors cursor-pointer hover:text-emerald-600",title:"ดูรายละเอียด","aria-label":"ดูรายละเอียด"},e[24]||(e[24]=[o("i",{class:"text-lg fa-regular fa-eye"},null,-1)]),8,kt),o("button",{onClick:H=>ge(a),class:"p-2 text-gray-500 transition-colors cursor-pointer hover:text-blue-600",title:"แก้ไข","aria-label":"แก้ไข"},e[25]||(e[25]=[o("i",{class:"text-lg fa-regular fa-pen-to-square"},null,-1)]),8,Ct),o("button",{onClick:H=>ye(a),class:"p-2 text-gray-500 transition-colors cursor-pointer hover:text-red-600",title:"ลบ","aria-label":"ลบ"},e[26]||(e[26]=[o("i",{class:"text-lg fa-regular fa-trash-can"},null,-1)]),8,Et)])])}),128)),ee.value.length?Be("",!0):(g(),f("tr",bt,e[27]||(e[27]=[o("td",{colspan:"8",class:"px-4 py-10 text-center text-gray-500"},"ไม่มีข้อมูลการจอง",-1)])))])])])),o("div",Lt,[o("div",Nt,[o("div",Bt,[e[30]||(e[30]=o("span",{class:"text-xs text-gray-500"},"Limit:",-1)),C(o("select",{"onUpdate:modelValue":e[7]||(e[7]=a=>c.limit=a),onChange:A,class:"px-2 py-1 text-sm border border-gray-300 rounded-md focus:ring-blue-500"},e[29]||(e[29]=[o("option",{value:10},"10",-1),o("option",{value:20},"20",-1),o("option",{value:50},"50",-1)]),544),[[W,c.limit,void 0,{number:!0}]])])]),o("nav",Dt,[o("button",{class:"px-3 py-2 text-sm border rounded-md disabled:opacity-50",disabled:c.page<=1||L.value,onClick:e[8]||(e[8]=a=>D(c.page-1))}," Previous ",8,At),(g(!0),f(Q,null,ne(pe.value,(a,d)=>(g(),f(Q,{key:`p-${d}-${a}`},[a==="…"?(g(),f("span",Tt,"…")):(g(),f("button",{key:1,class:Z(["px-3 py-2 text-sm border rounded-md",a===c.page?"bg-blue-50 text-blue-600 border-blue-200":"hover:bg-gray-50"]),disabled:L.value,onClick:i=>D(a)},u(a),11,$t))],64))),128)),o("button",{class:"px-3 py-2 text-sm border rounded-md disabled:opacity-50",disabled:c.page>=E.value||L.value,onClick:e[9]||(e[9]=a=>D(c.page+1))}," Next ",8,Mt)])])])])]),o("div",{id:"overlay",class:"fixed inset-0 z-40 hidden bg-black bg-opacity-50 lg:hidden",onClick:_e}),K(Se,{show:Y.value,title:`ลบการจอง${(n=N.value)!=null&&n.id?" : "+N.value.id:""}`,message:"การลบนี้เป็นการลบถาวร ข้อมูลทั้งหมดจะถูกลบและไม่สามารถกู้คืนได้ คุณต้องการดำเนินการต่อหรือไม่?",confirmText:"ลบถาวร",cancelText:"ยกเลิก",variant:"danger",onConfirm:ve,onCancel:oe},null,8,["show","title"])])}}};export{jt as default};
