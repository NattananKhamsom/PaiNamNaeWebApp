import{_ as F}from"./Lcixqshc.js";import{a5 as J,r as u,i as W,H as q,c as d,b as g,a as t,w as K,g as O,t as r,n as Q,y as X,J as Z,s as ee,o as n}from"./DPSIKoxe.js";import{u as te}from"./BaxiziUg.js";import{d as b}from"./B5yDJBm8.js";import{A as se,_ as oe}from"./CaCOxDSn.js";import"./Cpj98o6Y.js";import"./DOK8vhV6.js";const le={id:"main-content",class:"main-content mt-16 ml-0 lg:ml-[280px] p-6"},re={class:"mb-8"},ae={class:"mx-auto max-w-8xl"},de={class:"bg-white border border-gray-300 rounded-lg shadow-sm"},ne={class:"px-4 py-4 border-b border-gray-200 sm:px-6"},ie={class:"font-medium text-gray-800"},ce={key:0,class:"p-8 text-center text-gray-500"},me={key:1,class:"p-8 text-center text-red-600"},ue={key:2,class:"grid grid-cols-1 gap-6 p-4 sm:p-6 text-[15px]"},ge={class:"w-full max-w-[80rem] mx-auto space-y-8"},be={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},ye={class:"w-full px-3 py-2.5 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},xe={class:"w-full px-3 py-2.5 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},fe={class:"w-full px-3 py-2.5 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},pe={class:"w-full px-3 py-2.5 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},ve={class:"w-full px-3 py-2.5 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},_e={class:"w-full px-3 py-2.5 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},he={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},we={class:"w-full px-3 py-2.5 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},ke={class:"w-full px-3 py-2.5 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},Le={class:"w-full px-3 py-2.5 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},Ee={class:"grid grid-cols-1 gap-6 sm:grid-cols-3"},Be=["href"],Se=["src"],He={key:1,class:"p-10 text-center text-gray-500 border-2 border-gray-300 border-dashed rounded-md bg-gray-50"},Ie=["href"],ze=["src"],Me={key:1,class:"p-10 text-center text-gray-500 border-2 border-gray-300 border-dashed rounded-md bg-gray-50"},Ce=["href"],Re=["src"],Ve={key:1,class:"p-10 text-center text-gray-500 border-2 border-gray-300 border-dashed rounded-md bg-gray-50"},Ae={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3"},Ne={class:"w-full px-3 py-2.5 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},Ye={class:"w-full px-3 py-2.5 border border-gray-300 rounded-md bg-gray-50 text-gray-900"},Je={__name:"index",setup(De){b.locale("th"),te({});const D=J(),{toast:j}=ee(),m=u(!0),i=u(""),o=u(null),$=s=>({SEDAN:"Sedan",SUV:"SUV",Hatchback:"Hatchback",VAN:"Van",Pickup:"Pickup"})[s]||s||"-";function y(s,e=!1){return s?e?b(s).format("D MMM YYYY HH:mm"):b(s).format("D MMM YYYY"):"-"}async function U(){var s;m.value=!0,i.value="";try{const e=D.params.id,l=X(),c=Z("token").value||localStorage.getItem("token"),a=await $fetch(`/vehicles/admin/${e}`,{baseURL:l.public.apiBase,headers:{Accept:"application/json",...c?{Authorization:`Bearer ${c}`}:{}}});if(a!=null&&a.success&&a.data)o.value=a.data;else throw new Error((a==null?void 0:a.message)||"ไม่พบยานพาหนะนี้ในระบบ")}catch(e){console.error("Fetch Vehicle Error:",e),i.value=((s=e==null?void 0:e.data)==null?void 0:s.message)||e.message||"ไม่สามารถโหลดข้อมูลยานพาหนะได้",j.error("เกิดข้อผิดพลาด",i.value),o.value=null}finally{m.value=!1}}function P(){const s=document.getElementById("sidebar"),e=document.getElementById("overlay");!s||!e||(s.classList.remove("mobile-open"),e.classList.add("hidden"))}function T(){window.toggleSidebar=function(){const s=document.getElementById("sidebar"),e=document.getElementById("main-content"),l=document.getElementById("toggle-icon");!s||!e||(s.classList.toggle("collapsed"),s.classList.contains("collapsed")?(e.style.marginLeft="80px",l&&l.classList.replace("fa-chevron-left","fa-chevron-right")):(e.style.marginLeft="280px",l&&l.classList.replace("fa-chevron-right","fa-chevron-left")))},window.toggleMobileSidebar=function(){const s=document.getElementById("sidebar"),e=document.getElementById("overlay");!s||!e||(s.classList.toggle("mobile-open"),e.classList.toggle("hidden"))},window.toggleSubmenu=function(s){const e=document.getElementById(s),l=document.getElementById(s+"-icon");!e||!l||(e.classList.toggle("hidden"),e.classList.contains("hidden")?l.classList.replace("fa-chevron-up","fa-chevron-down"):l.classList.replace("fa-chevron-down","fa-chevron-up"))},window.__adminResizeHandler__=function(){const s=document.getElementById("sidebar"),e=document.getElementById("main-content"),l=document.getElementById("overlay");!s||!e||!l||(window.innerWidth>=1024?(s.classList.remove("mobile-open"),l.classList.add("hidden"),s.classList.contains("collapsed")?e.style.marginLeft="80px":e.style.marginLeft="280px"):e.style.marginLeft="0")},window.addEventListener("resize",window.__adminResizeHandler__)}function G(){window.removeEventListener("resize",window.__adminResizeHandler__||(()=>{})),delete window.toggleSidebar,delete window.toggleMobileSidebar,delete window.toggleSubmenu,delete window.__adminResizeHandler__}return W(async()=>{T(),typeof window.__adminResizeHandler__=="function"&&window.__adminResizeHandler__(),await U()}),q(()=>G()),(s,e)=>{var c,a,x,f,p,v,_,h,w,k,L,E,B,S,H,I,z,M,C,R,V,A,N,Y;const l=F;return n(),d("div",null,[g(se),g(oe),t("main",le,[t("div",re,[g(l,{to:"/admin/vehicles",class:"inline-flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50"},{default:K(()=>e[0]||(e[0]=[t("i",{class:"fa-solid fa-arrow-left"},null,-1),t("span",null,"ย้อนกลับไปที่รายการ",-1)])),_:1,__:[0]})]),t("div",ae,[e[20]||(e[20]=t("div",{class:"flex flex-col gap-3 mb-6 sm:flex-row sm:items-center sm:justify-between"},[t("div",{class:"flex items-center gap-3"},[t("h1",{class:"text-2xl font-semibold text-gray-800"},"รายละเอียดข้อมูลยานพาหนะ"),t("span",{class:"text-sm text-gray-500"},"ดูข้อมูลทั้งหมดของยานพาหนะ")])],-1)),t("div",de,[t("div",ne,[t("h2",ie," ข้อมูลยานพาหนะ: "+r(((c=o.value)==null?void 0:c.licensePlate)||"-"),1)]),m.value?(n(),d("div",ce,e[1]||(e[1]=[t("i",{class:"text-3xl fa-solid fa-spinner fa-spin"},null,-1),t("p",{class:"mt-2"},"กำลังโหลดข้อมูล...",-1)]))):i.value?(n(),d("div",me,r(i.value),1)):o.value?(n(),d("div",ue,[t("div",ge,[t("section",null,[e[8]||(e[8]=t("h3",{class:"mb-3 text-sm font-semibold text-gray-700"},"รายละเอียดหลัก",-1)),t("div",be,[t("div",null,[e[2]||(e[2]=t("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"รุ่น / ยี่ห้อ",-1)),t("div",ye,r(((a=o.value)==null?void 0:a.vehicleModel)||"-"),1)]),t("div",null,[e[3]||(e[3]=t("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"ป้ายทะเบียน",-1)),t("div",xe,r(((x=o.value)==null?void 0:x.licensePlate)||"-"),1)]),t("div",null,[e[4]||(e[4]=t("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"ประเภทยานพาหนะ",-1)),t("div",fe,r($((f=o.value)==null?void 0:f.vehicleType)),1)]),t("div",null,[e[5]||(e[5]=t("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"สี",-1)),t("div",pe,r(((p=o.value)==null?void 0:p.color)||"-"),1)]),t("div",null,[e[6]||(e[6]=t("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"จำนวนที่นั่ง",-1)),t("div",ve,r(((v=o.value)==null?void 0:v.seatCapacity)??"-"),1)]),t("div",null,[e[7]||(e[7]=t("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"เป็นค่าเริ่มต้น",-1)),t("div",_e,[t("span",{class:Q((_=o.value)!=null&&_.isDefault?"text-green-700 font-semibold":"text-gray-600")},r((h=o.value)!=null&&h.isDefault?"ใช่":"ไม่ใช่"),3)])])])]),t("section",null,[e[12]||(e[12]=t("h3",{class:"mb-3 text-sm font-semibold text-gray-700"},"ข้อมูลเจ้าของ",-1)),t("div",he,[t("div",null,[e[9]||(e[9]=t("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"ชื่อ - นามสกุล",-1)),t("div",we,r(`${((k=(w=o.value)==null?void 0:w.user)==null?void 0:k.firstName)||""} ${((E=(L=o.value)==null?void 0:L.user)==null?void 0:E.lastName)||""}`.trim()||"-"),1)]),t("div",null,[e[10]||(e[10]=t("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"อีเมล",-1)),t("div",ke,r(((S=(B=o.value)==null?void 0:B.user)==null?void 0:S.email)||"-"),1)]),t("div",null,[e[11]||(e[11]=t("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"Username",-1)),t("div",Le,r(((I=(H=o.value)==null?void 0:H.user)==null?void 0:I.username)||"-"),1)])])]),t("section",null,[e[16]||(e[16]=t("h3",{class:"mb-3 text-sm font-semibold text-gray-700"},"รูปภาพยานพาหนะ",-1)),t("div",Ee,[t("div",null,[e[13]||(e[13]=t("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"รูปด้านหน้า",-1)),(M=(z=o.value)==null?void 0:z.photos)!=null&&M[0]?(n(),d("a",{key:0,href:o.value.photos[0],target:"_blank",class:"block p-4 text-center border-2 border-gray-300 border-dashed rounded-md hover:shadow-sm"},[t("img",{src:o.value.photos[0],class:"object-cover w-full h-40 rounded-md",alt:"front"},null,8,Se)],8,Be)):(n(),d("div",He," ไม่พบรูป "))]),t("div",null,[e[14]||(e[14]=t("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"รูปด้านข้าง",-1)),(R=(C=o.value)==null?void 0:C.photos)!=null&&R[1]?(n(),d("a",{key:0,href:o.value.photos[1],target:"_blank",class:"block p-4 text-center border-2 border-gray-300 border-dashed rounded-md hover:shadow-sm"},[t("img",{src:o.value.photos[1],class:"object-cover w-full h-40 rounded-md",alt:"back"},null,8,ze)],8,Ie)):(n(),d("div",Me," ไม่พบรูป "))]),t("div",null,[e[15]||(e[15]=t("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"รูปภายใน",-1)),(A=(V=o.value)==null?void 0:V.photos)!=null&&A[2]?(n(),d("a",{key:0,href:o.value.photos[2],target:"_blank",class:"block p-4 text-center border-2 border-gray-300 border-dashed rounded-md hover:shadow-sm"},[t("img",{src:o.value.photos[2],class:"object-cover w-full h-40 rounded-md",alt:"plate"},null,8,Re)],8,Ce)):(n(),d("div",Ve," ไม่พบรูป "))])])]),t("section",null,[e[19]||(e[19]=t("h3",{class:"mb-3 text-sm font-semibold text-gray-700"},"ข้อมูลระบบ",-1)),t("div",Ae,[t("div",null,[e[17]||(e[17]=t("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"สร้างเมื่อ",-1)),t("div",Ne,r(y((N=o.value)==null?void 0:N.createdAt,!0)),1)]),t("div",null,[e[18]||(e[18]=t("label",{class:"block mb-1 text-xs font-medium text-gray-600"},"อัปเดตล่าสุด",-1)),t("div",Ye,r(y((Y=o.value)==null?void 0:Y.updatedAt,!0)),1)])])])])])):O("",!0)])])]),t("div",{id:"overlay",class:"fixed inset-0 z-40 hidden bg-black bg-opacity-50 lg:hidden",onClick:P})])}}};export{Je as default};
