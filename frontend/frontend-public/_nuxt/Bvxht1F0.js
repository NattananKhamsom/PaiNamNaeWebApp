import{_ as fe,m as be,r as v,y as ye,x as xe,i as _e,c as i,a as e,b as he,f as W,h as A,v as S,z as ae,t as o,g as h,F as w,q as k,w as we,T as ke,o as r,d as oe,n as Me,C as ne,s as Ae}from"./DPSIKoxe.js";import{d as V}from"./B5yDJBm8.js";import{b as Ce}from"./C5FTVxxA.js";import{u as Le}from"./DOK8vhV6.js";import{u as Pe}from"./BaxiziUg.js";import{s as Se}from"./x_rD_Ya3.js";import"./Cpj98o6Y.js";const Te={class:"px-4 py-8 mx-auto max-w-7xl sm:px-6 lg:px-8"},Ne={class:"p-6 mb-8 bg-white border border-gray-300 rounded-lg shadow-md"},$e={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},Be={class:"lg:col-span-2"},Ve={class:"bg-white border border-gray-300 rounded-lg shadow-md"},je={class:"p-6 border-b border-gray-300"},Ie={class:"text-lg font-semibold text-gray-900"},Fe={key:0,class:"p-6 text-center text-gray-500"},ze={key:1,class:"divide-y divide-gray-200"},Ue={key:0,class:"p-6 text-center text-gray-500"},De=["onClick"],Ee={class:"mb-6 font-semibold text-center text-gray-900"},Oe={class:"flex items-start space-x-4"},Ge=["src","alt"],He={class:"flex-1"},Ke={class:"flex items-start justify-between"},Re={class:"flex items-center"},qe={class:"font-semibold text-gray-900"},We={key:0,class:"relative group ml-1.5 flex items-center"},Je={class:"flex items-center mt-1"},Qe={class:"flex text-yellow-400"},Xe={class:"ml-2 text-sm text-gray-600"},Ye={class:"text-right"},Ze={class:"text-lg font-bold text-blue-600"},et={class:"mt-3"},tt={class:"flex flex-wrap items-center text-sm text-gray-600"},st={class:"font-medium"},lt={class:"ml-1"},at={class:"ml-1"},ot={class:"ml-1"},nt={class:"flex items-center mt-2 text-sm text-gray-600"},it={key:0,class:"pt-4 mt-4 duration-300 border-t border-gray-300 animate-in slide-in-from-top"},rt={class:"grid grid-cols-1 gap-4 md:grid-cols-2"},dt={class:"space-y-1 text-sm text-gray-600"},ut={key:0},ct={key:1},mt={class:"space-y-1 text-sm text-gray-600"},gt={class:"space-y-1 text-sm text-gray-600"},pt={class:"mt-4 space-y-4"},vt={key:0},ft={class:"p-3 text-sm text-gray-700 border border-gray-300 rounded-md bg-gray-50"},bt={key:1},yt={class:"grid grid-cols-3 gap-2 mt-2"},xt=["src"],_t={class:"flex justify-end mt-4"},ht=["onClick","disabled"],wt={class:"lg:col-span-1"},kt={class:"sticky overflow-hidden bg-white border border-gray-300 rounded-lg shadow-md top-8"},Mt={class:"modal-content"},At={class:"p-6"},Ct={class:"mb-6"},Lt={class:"flex items-center p-3 space-x-3 rounded-lg bg-gray-50"},Pt=["src","alt"],St={class:"flex items-center"},Tt={class:"font-medium text-gray-900"},Nt={key:0,class:"relative group ml-1.5 flex items-center"},$t={class:"flex items-center"},Bt={class:"flex text-sm text-yellow-400"},Vt={class:"ml-2 text-sm text-gray-600"},jt={class:"grid grid-cols-1 gap-6 mb-6 md:grid-cols-2"},It={class:"p-3 text-gray-900 rounded-lg bg-gray-50"},Ft={class:"p-3 text-gray-900 rounded-lg bg-gray-50"},zt={class:"mb-6"},Ut={class:"flex items-center p-3 space-x-4 rounded-lg bg-gray-50"},Dt={class:"flex-1"},Et={class:"font-medium text-gray-900"},Ot={class:"flex-1 text-right"},Gt={class:"font-medium text-gray-900"},Ht={class:"mb-6 space-y-4"},Kt=["value"],Rt={class:"p-4 mb-6 rounded-lg bg-blue-50"},qt={class:"flex items-center justify-between mb-2"},Wt={class:"font-medium text-gray-900"},Jt={class:"flex items-center justify-between mb-2"},Qt={class:"font-medium text-gray-900"},Xt={class:"pt-2 mt-2 border-t border-gray-300"},Yt={class:"flex items-center justify-between"},Zt={class:"text-lg font-bold text-blue-600"},J="__gmapsReady__",es={__name:"index_v3",setup(ts){var le;V.locale("th"),V.extend(Ce);const{$api:Q}=be(),{toast:j}=Ae(),{token:ie}=Le(),re=ye(),I=v(null),F=v(null);let z=null,U=null;const de=[];(le=window.google)!=null&&le.maps||de.push({key:"gmaps",src:`https://maps.googleapis.com/maps/api/js?key=${re.public.googleMapsApiKey}&libraries=places,geometry&callback=${J}`,async:!0,defer:!0}),Pe({});const g=v({origin:"",destination:"",date:"",seats:"1"}),f=v([]),M=v(null),D=v(!1),E=v(null);let y=null,T=null,N=null,$=null,O=null,G=null;const H=v(!1),K=v(!1),d=v(null),C=v(1),L=v(""),P=v(""),ue=xe(()=>d.value?C.value*d.value.price:0);async function R(){D.value=!0,M.value=null;try{const a=await Q("/routes"),t=((a==null?void 0:a.data)||a||[]).filter(l=>l.status==="AVAILABLE");f.value=t.map(l=>{var n,m,c,p,u,b;return{id:l.id,availableSeats:l.availableSeats,price:l.pricePerSeat,departureTime:V(l.departureTime).format("HH:mm น."),date:V(l.departureTime).format("D MMMM BBBB"),start:l.startLocation,end:l.endLocation,originName:`(${l.startLocation.lat.toFixed(2)}, ${l.startLocation.lng.toFixed(2)})`,destinationName:`(${l.endLocation.lat.toFixed(2)}, ${l.endLocation.lng.toFixed(2)})`,driver:{name:`${((n=l.driver)==null?void 0:n.firstName)||""} ${((m=l.driver)==null?void 0:m.lastName)||""}`.trim()||"ไม่ระบุชื่อ",image:((c=l.driver)==null?void 0:c.profilePicture)||`https://ui-avatars.com/api/?name=${encodeURIComponent(((p=l.driver)==null?void 0:p.firstName)||"U")}&background=random&size=64`,rating:4.5,reviews:Math.floor(Math.random()*50)+5,isVerified:!!((u=l.driver)!=null&&u.isVerified)},carDetails:l.vehicle?[`${l.vehicle.vehicleModel} (${l.vehicle.vehicleType})`,...l.vehicle.amenities||[]]:["ไม่มีข้อมูลรถ"],conditions:l.conditions,photos:((b=l.vehicle)==null?void 0:b.photos)||[],durationText:l.duration||"-",distanceText:l.distance||"-",polyline:l.routePolyline||null}}),await Z();const s=f.value.map(async(l,n)=>{const[m,c]=await Promise.all([X(l.start.lat,l.start.lng),X(l.end.lat,l.end.lng)]),p=await Y(m),u=await Y(c);f.value[n].originName=p.name||f.value[n].originName,f.value[n].destinationName=u.name||f.value[n].destinationName,f.value[n].originArea=p.area||null,f.value[n].destinationArea=u.area||null});await Promise.allSettled(s)}catch(a){console.error("Failed to fetch routes:",a),f.value=[]}finally{D.value=!1}}function X(a,t){return new Promise(s=>{if(!O)return s(null);O.geocode({location:{lat:a,lng:t}},(l,n)=>{if(n!=="OK"||!(l!=null&&l.length))return s(null);s(l[0])})})}async function Y(a){if(!a)return{name:null,area:null};const t=a.address_components||[],s=x=>{var _;return(_=t.find(q=>q.types.includes(x)))==null?void 0:_.long_name},l=x=>{var _;return(_=t.find(q=>q.types.includes(x)))==null?void 0:_.short_name},n=a.types||[],m=n.includes("point_of_interest")||n.includes("establishment")||n.includes("premise");let c=null;if(m&&a.place_id){const x=await ge(a.place_id);x&&(c=x)}if(!c){const x=s("street_number"),_=s("route");c=x&&_?`${x} ${_}`:_||a.formatted_address||null}const p=s("sublocality")||s("neighborhood")||s("locality")||s("administrative_area_level_2"),u=s("administrative_area_level_1")||l("administrative_area_level_1");let b=null;return p&&u?b=`${p}, ${u}`:u&&(b=u),c&&(c=c.replace(/,?\s*(Thailand|ไทย)\s*$/i,"")),{name:c,area:b}}const ce=a=>{M.value&&M.value.id===a.id?(M.value=null,ee()):(M.value=a,me(a))};function Z(){return new Promise(a=>{if(H.value)return a(!0);const t=Se(()=>{H.value&&(clearInterval(t),a(!0))},50)})}function ee(){T&&(T.setMap(null),T=null),N&&(N.setMap(null),N=null),$&&($.setMap(null),$=null)}async function me(a){var t;if(a&&(await Z(),!(!y||!(y instanceof google.maps.Map))))if(ee(),N=new google.maps.Marker({position:{lat:a.start.lat,lng:a.start.lng},map:y,label:"A"}),$=new google.maps.Marker({position:{lat:a.end.lat,lng:a.end.lng},map:y,label:"B"}),a.polyline&&((t=google.maps.geometry)!=null&&t.encoding)){const s=google.maps.geometry.encoding.decodePath(a.polyline);T=new google.maps.Polyline({path:s,map:y,strokeColor:"#2563eb",strokeOpacity:.9,strokeWeight:5});const l=new google.maps.LatLngBounds;s.forEach(n=>l.extend(n)),y.fitBounds(l)}else{const s=new google.maps.LatLng(Math.min(a.start.lat,a.end.lat),Math.min(a.start.lng,a.end.lng)),l=new google.maps.LatLng(Math.max(a.start.lat,a.end.lat),Math.max(a.start.lng,a.end.lng)),n=new google.maps.LatLngBounds(s,l);y.fitBounds(n)}}function ge(a){return new Promise(t=>{if(!G||!a)return t(null);G.getDetails({placeId:a,fields:["name"]},(s,l)=>{l===google.maps.places.PlacesServiceStatus.OK&&(s!=null&&s.name)?t(s.name):t(null)})})}function pe(a){if(!ie.value)return ne("/login");a&&a.availableSeats>0&&(d.value=a,C.value=1,L.value="",P.value="",K.value=!0)}function B(){K.value=!1,setTimeout(()=>{d.value=null},300)}async function ve(){var t;if(!d.value)return;if(!L.value.trim()||!P.value.trim()){j.warning("ข้อมูลไม่ครบถ้วน","กรุณากรอกข้อมูลจุดรับและจุดส่งให้ครบถ้วน");return}const a={routeId:d.value.id,numberOfSeats:C.value,pickupLocation:{name:L.value,lat:16.432,lng:102.833},dropoffLocation:{name:P.value,lat:16.456,lng:102.876}};try{await Q("/bookings",{method:"POST",body:a}),B(),j.success("ส่งคำขอจองสำเร็จ!","คำขอของคุณถูกส่งไปให้ผู้ขับแล้ว โปรดรอการยืนยัน"),setTimeout(()=>{ne("/myTrip")},1500)}catch(s){console.error("Failed to create booking:",s),j.error("เกิดข้อผิดพลาดในการจอง",((t=s.data)==null?void 0:t.message)||"โปรดลองใหม่อีกครั้งในภายหลัง")}}const te=()=>{!E.value||y||(y=new google.maps.Map(E.value,{center:{lat:13.7563,lng:100.5018},zoom:6,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0}),O=new google.maps.Geocoder,G=new google.maps.places.PlacesService(y),H.value=!0)};function se(){var t,s;if(!I.value||!F.value||!((s=(t=window.google)==null?void 0:t.maps)!=null&&s.places))return;const a={fields:["place_id","name","formatted_address","geometry"]};z=new google.maps.places.Autocomplete(I.value,{...a,types:["geocode","establishment"]}),z.addListener("place_changed",()=>{var n,m,c,p,u,b;const l=z.getPlace();l&&(g.value.origin=l.name||l.formatted_address||g.value.origin,g.value._originMeta={placeId:l.place_id||null,fullAddress:l.formatted_address||null,lat:((c=(m=(n=l.geometry)==null?void 0:n.location)==null?void 0:m.lat)==null?void 0:c.call(m))??null,lng:((b=(u=(p=l.geometry)==null?void 0:p.location)==null?void 0:u.lng)==null?void 0:b.call(u))??null})}),U=new google.maps.places.Autocomplete(F.value,{...a,types:["geocode","establishment"]}),U.addListener("place_changed",()=>{var n,m,c,p,u,b;const l=U.getPlace();l&&(g.value.destination=l.name||l.formatted_address||g.value.destination,g.value._destinationMeta={placeId:l.place_id||null,fullAddress:l.formatted_address||null,lat:((c=(m=(n=l.geometry)==null?void 0:n.location)==null?void 0:m.lat)==null?void 0:c.call(m))??null,lng:((b=(u=(p=l.geometry)==null?void 0:p.location)==null?void 0:u.lng)==null?void 0:b.call(u))??null})})}return _e(()=>{var a;if((a=window.google)!=null&&a.maps){te(),se(),R();return}window[J]=()=>{try{delete window[J]}catch{}te(),se(),R()}}),(a,t)=>(r(),i("div",null,[e("div",Te,[e("div",Ne,[t[13]||(t[13]=e("h2",{class:"mb-6 text-xl font-semibold text-gray-900"},"ค้นหาการเดินทาง",-1)),e("form",{onSubmit:W(R,["prevent"]),class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-5"},[e("div",null,[t[7]||(t[7]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"จุดเริ่มต้น",-1)),A(e("input",{ref_key:"originInputEl",ref:I,"onUpdate:modelValue":t[0]||(t[0]=s=>g.value.origin=s),type:"text",placeholder:"เช่น กรุงเทพฯ",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[S,g.value.origin]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"จุดปลายทาง",-1)),A(e("input",{ref_key:"destinationInputEl",ref:F,"onUpdate:modelValue":t[1]||(t[1]=s=>g.value.destination=s),type:"text",placeholder:"เช่น เชียงใหม่",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[S,g.value.destination]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"วันที่",-1)),A(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>g.value.date=s),type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[S,g.value.date]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"จำนวนที่นั่ง",-1)),A(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>g.value.seats=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},t[10]||(t[10]=[e("option",{value:"1"},"1 ที่นั่ง",-1),e("option",{value:"2"},"2 ที่นั่ง",-1),e("option",{value:"3"},"3 ที่นั่ง",-1),e("option",{value:"4"},"4 ที่นั่ง",-1)]),512),[[ae,g.value.seats]])]),t[12]||(t[12]=e("div",{class:"flex items-end"},[e("button",{type:"submit",class:"w-full px-4 py-2 text-white transition duration-200 bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"}," ค้นหา ")],-1))],32)]),e("div",$e,[e("div",Be,[e("div",Ve,[e("div",je,[e("h3",Ie,"ผลการค้นหา ("+o(f.value.length)+" รายการ)",1)]),D.value?(r(),i("div",Fe," กำลังค้นหาเส้นทาง... ")):(r(),i("div",ze,[f.value.length===0?(r(),i("div",Ue," ไม่พบเส้นทางที่ค้นหา ")):h("",!0),(r(!0),i(w,null,k(f.value,s=>(r(),i("div",{key:s.id,class:"p-6 transition-all duration-300 cursor-pointer route-card hover:shadow-lg",onClick:l=>ce(s)},[e("h1",Ee,[oe(o(s.originName)+" ",1),t[14]||(t[14]=e("span",{class:"mx-1 font-semibold text-gray-900"},"→",-1)),oe(" "+o(s.destinationName),1)]),e("div",Oe,[e("img",{src:s.driver.image,alt:s.driver.name,class:"object-cover w-12 h-12 rounded-full"},null,8,Ge),e("div",He,[e("div",Ke,[e("div",null,[e("div",Re,[e("h4",qe,o(s.driver.name),1),s.driver.isVerified?(r(),i("div",We,t[15]||(t[15]=[e("svg",{class:"w-5 h-5 text-blue-600",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8.603 3.799A4.49 4.49 0 0112 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 013.498 1.307 4.491 4.491 0 011.307 3.497A4.49 4.49 0 0121.75 12c0 1.357-.6 2.573-1.549 3.397a4.49 4.49 0 01-1.307 3.498 4.491 4.491 0 01-3.497 1.307A4.49 4.49 0 0112 21.75a4.49 4.49 0 01-3.397-1.549 4.49 4.49 0 01-3.498-1.306 4.491 4.491 0 01-1.307-3.498A4.49 4.49 0 012.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 011.307-3.497 4.49 4.49 0 013.497-1.307zm7.007 6.387a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.07-.01l3.5-4.875z","clip-rule":"evenodd"})],-1),e("span",{class:"absolute px-2 py-1 mb-2 text-xs text-white transition-opacity -translate-x-1/2 bg-gray-800 rounded-md opacity-0 pointer-events-none bottom-full left-1/2 w-max group-hover:opacity-100"}," ผู้ขับขี่ยืนยันตัวตนแล้ว ",-1)]))):h("",!0)]),e("div",Je,[e("div",Qe,[(r(),i(w,null,k(5,l=>e("span",{key:l},o(l<=s.driver.rating?"★":"☆"),1)),64))]),e("span",Xe,o(s.driver.rating)+" ("+o(s.driver.reviews)+" รีวิว) ",1)])]),e("div",Ye,[e("div",Ze,o(s.price)+" บาท",1),t[16]||(t[16]=e("div",{class:"text-sm text-gray-600"},"ต่อที่นั่ง",-1))])]),e("div",et,[e("div",tt,[e("span",st,o(s.date),1),t[17]||(t[17]=e("span",{class:"mx-2 text-gray-300"},"|",-1)),t[18]||(t[18]=e("span",{class:"font-medium"},"เวลาออก:",-1)),e("span",lt,o(s.departureTime),1),t[19]||(t[19]=e("span",{class:"mx-2 text-gray-300"},"|",-1)),t[20]||(t[20]=e("span",{class:"font-medium"},"ระยะเวลา:",-1)),e("span",at,o(s.durationText),1),t[21]||(t[21]=e("span",{class:"mx-2 text-gray-300"},"|",-1)),t[22]||(t[22]=e("span",{class:"font-medium"},"ระยะทาง:",-1)),e("span",ot,o(s.distanceText),1)]),e("div",nt,[e("span",{class:Me(["px-2 py-1 rounded-full text-xs font-medium",s.availableSeats>2?"bg-green-100 text-green-800":s.availableSeats>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"])},o(s.availableSeats>0?`เหลือ ${s.availableSeats}
                                                    ที่นั่ง`:"เต็มแล้ว"),3)])])])]),M.value&&M.value.id===s.id?(r(),i("div",it,[e("div",rt,[e("div",null,[t[23]||(t[23]=e("h5",{class:"mb-2 font-medium text-gray-900"},"รายละเอียดเส้นทาง",-1)),e("ul",dt,[s.originArea?(r(),i("li",ut,"• จุดเริ่มต้น (พื้นที่): "+o(s.originArea),1)):h("",!0),s.destinationArea?(r(),i("li",ct,"• จุดปลายทาง (พื้นที่): "+o(s.destinationArea),1)):h("",!0),(r(!0),i(w,null,k(s.stops,l=>(r(),i("li",{key:l},"• "+o(l),1))),128))]),e("ul",mt,[(r(!0),i(w,null,k(s.stops,l=>(r(),i("li",{key:l},"• "+o(l),1))),128))])]),e("div",null,[t[24]||(t[24]=e("h5",{class:"mb-2 font-medium text-gray-900"},"รายละเอียดรถ",-1)),e("ul",gt,[(r(!0),i(w,null,k(s.carDetails,l=>(r(),i("li",{key:l},"• "+o(l),1))),128))])])]),e("div",pt,[s.conditions?(r(),i("div",vt,[t[25]||(t[25]=e("h5",{class:"mb-2 font-medium text-gray-900"},"เงื่อนไขการเดินทาง",-1)),e("p",ft,o(s.conditions),1)])):h("",!0),s.photos&&s.photos.length>0?(r(),i("div",bt,[t[26]||(t[26]=e("h5",{class:"mb-2 font-medium text-gray-900"},"รูปภาพรถยนต์",-1)),e("div",yt,[(r(!0),i(w,null,k(s.photos.slice(0,3),(l,n)=>(r(),i("div",{key:n,class:""},[e("img",{src:l,alt:"Vehicle photo",class:"object-cover w-full transition-opacity border border-gray-300 rounded-lg shadow-sm cursor-pointer aspect-video hover:opacity-90"},null,8,xt)]))),128))])])):h("",!0)]),e("div",_t,[e("button",{onClick:W(l=>pe(s),["stop"]),disabled:s.availableSeats===0,class:"px-6 py-2 text-white transition duration-200 bg-blue-600 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed"}," จองที่นั่ง ",8,ht)])])):h("",!0)],8,De))),128))]))])]),e("div",wt,[e("div",kt,[t[27]||(t[27]=e("div",{class:"p-6 border-b border-gray-300"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"แผนที่เส้นทาง")],-1)),e("div",{ref_key:"mapContainer",ref:E,class:"h-96"},null,512)])])])]),he(ke,{name:"modal-fade"},{default:we(()=>[K.value&&d.value?(r(),i("div",{key:0,class:"modal-overlay",onClick:W(B,["self"])},[e("div",Mt,[e("div",{class:"flex items-center justify-between p-6 border-b border-gray-300"},[t[29]||(t[29]=e("h3",{class:"text-xl font-semibold text-gray-900"},"ยืนยันการจอง",-1)),e("button",{onClick:B,class:"text-gray-400 hover:text-gray-600"},t[28]||(t[28]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",At,[e("div",Ct,[t[31]||(t[31]=e("h4",{class:"mb-3 font-semibold text-gray-900"},"เดินทางกับ",-1)),e("div",Lt,[e("img",{src:d.value.driver.image,alt:d.value.driver.name,class:"object-cover w-12 h-12 rounded-full"},null,8,Pt),e("div",null,[e("div",St,[e("div",Tt,o(d.value.driver.name),1),d.value.driver.isVerified?(r(),i("div",Nt,t[30]||(t[30]=[e("svg",{class:"w-5 h-5 text-blue-600",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8.603 3.799A4.49 4.49 0 0112 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 013.498 1.307 4.491 4.491 0 011.307 3.497A4.49 4.49 0 0121.75 12c0 1.357-.6 2.573-1.549 3.397a4.49 4.49 0 01-1.307 3.498 4.491 4.491 0 01-3.497 1.307A4.49 4.49 0 0112 21.75a4.49 4.49 0 01-3.397-1.549 4.49 4.49 0 01-3.498-1.306 4.491 4.491 0 01-1.307-3.498A4.49 4.49 0 012.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 011.307-3.497 4.49 4.49 0 013.497-1.307zm7.007 6.387a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.07-.01l3.5-4.875z","clip-rule":"evenodd"})],-1),e("span",{class:"absolute px-2 py-1 mb-2 text-xs text-white transition-opacity -translate-x-1/2 bg-gray-800 rounded-md opacity-0 pointer-events-none bottom-full left-1/2 w-max group-hover:opacity-100"}," ผู้ขับขี่ยืนยันตัวตนแล้ว ",-1)]))):h("",!0)]),e("div",$t,[e("div",Bt,[(r(),i(w,null,k(5,s=>e("span",{key:s},o(s<=d.value.driver.rating?"★":"☆"),1)),64))]),e("span",Vt,o(d.value.driver.rating)+" ("+o(d.value.driver.reviews)+" รีวิว)",1)])])])]),e("div",jt,[e("div",null,[t[32]||(t[32]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"วันที่เดินทาง",-1)),e("div",It,o(d.value.date),1)]),e("div",null,[t[33]||(t[33]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"เวลาออก",-1)),e("div",Ft,o(d.value.departureTime),1)])]),e("div",zt,[t[37]||(t[37]=e("h4",{class:"mb-3 font-semibold text-gray-900"},"เส้นทางการเดินทาง",-1)),e("div",Ut,[e("div",Dt,[e("div",Et,o(d.value.originName),1),t[34]||(t[34]=e("div",{class:"text-sm text-gray-600"},"จุดเริ่มต้น",-1))]),t[36]||(t[36]=e("div",{class:"text-blue-600"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})])],-1)),e("div",Ot,[e("div",Gt,o(d.value.destinationName),1),t[35]||(t[35]=e("div",{class:"text-sm text-gray-600"},"จุดปลายทาง",-1))])])]),e("div",Ht,[e("div",null,[t[38]||(t[38]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"จำนวนที่นั่งที่ต้องการจอง",-1)),A(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>C.value=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[(r(!0),i(w,null,k(d.value.availableSeats,s=>(r(),i("option",{key:s,value:s},o(s)+" ที่นั่ง ",9,Kt))),128))],512),[[ae,C.value]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"เลือกจุดขึ้นรถ",-1)),A(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=s=>L.value=s),placeholder:"กรอกเพื่อค้นหาจุดขึ้นรถ...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[S,L.value]])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block mb-2 text-sm font-medium text-gray-700"},"เลือกจุดลงรถ",-1)),A(e("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=s=>P.value=s),placeholder:"กรอกเพื่อค้นหาจุดลงรถ...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[S,P.value]])])]),e("div",Rt,[e("div",qt,[t[41]||(t[41]=e("span",{class:"text-gray-700"},"ราคาต่อที่นั่ง",-1)),e("span",Wt,o(d.value.price)+" บาท",1)]),e("div",Jt,[t[42]||(t[42]=e("span",{class:"text-gray-700"},"จำนวนที่นั่ง",-1)),e("span",Qt,o(C.value)+" ที่นั่ง",1)]),e("div",Xt,[e("div",Yt,[t[43]||(t[43]=e("span",{class:"font-semibold text-gray-900"},"ยอดรวม",-1)),e("span",Zt,o(ue.value)+" บาท",1)])])]),e("div",{class:"flex space-x-4"},[e("button",{onClick:B,class:"flex-1 px-4 py-3 font-semibold text-gray-800 transition duration-200 bg-gray-200 rounded-md hover:bg-gray-300"}," ยกเลิก "),e("button",{onClick:ve,class:"flex-1 px-4 py-3 font-semibold text-white transition duration-200 bg-blue-600 rounded-md hover:bg-blue-700"}," ยืนยันการจอง ")])])])])):h("",!0)]),_:1})]))}},ds=fe(es,[["__scopeId","data-v-55e34348"]]);export{ds as default};
